{"numFailedTestSuites":11,"numFailedTests":40,"numPassedTestSuites":16,"numPassedTests":209,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":27,"numTotalTests":249,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1762127453346,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Courses API Integration Tests","GET /api/courses"],"duration":21,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Courses API Integration Tests GET /api/courses should return empty array when no courses exist","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1762127454534,"status":"passed","title":"should return empty array when no courses exist"},{"ancestorTitles":["Courses API Integration Tests","GET /api/courses"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Courses API Integration Tests GET /api/courses should return paginated course list","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1762127454555,"status":"passed","title":"should return paginated course list"},{"ancestorTitles":["Courses API Integration Tests","GET /api/courses"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Courses API Integration Tests GET /api/courses should return course details with correct structure","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127454563,"status":"passed","title":"should return course details with correct structure"},{"ancestorTitles":["Courses API Integration Tests","GET /api/courses"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Courses API Integration Tests GET /api/courses should filter by difficulty","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127454570,"status":"passed","title":"should filter by difficulty"},{"ancestorTitles":["Courses API Integration Tests","GET /api/courses/:id"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Courses API Integration Tests GET /api/courses/:id should return 404 for non-existent course","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127454577,"status":"passed","title":"should return 404 for non-existent course"},{"ancestorTitles":["Courses API Integration Tests","GET /api/courses/:id"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Courses API Integration Tests GET /api/courses/:id should return course details for valid id","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127454584,"status":"passed","title":"should return course details for valid id"},{"ancestorTitles":["Courses API Integration Tests","GET /api/modules"],"duration":19,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Courses API Integration Tests GET /api/modules should return modules list","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127454590,"status":"passed","title":"should return modules list"},{"ancestorTitles":["Courses API Integration Tests","GET /api/modules"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Courses API Integration Tests GET /api/modules should return module with correct structure","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127454609,"status":"passed","title":"should return module with correct structure"},{"ancestorTitles":["Courses API Integration Tests","GET /api/badges"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Courses API Integration Tests GET /api/badges should return badges list","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127454616,"status":"passed","title":"should return badges list"},{"ancestorTitles":["Courses API Integration Tests","GET /api/badges"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Courses API Integration Tests GET /api/badges should return badges with gamification properties","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127454624,"status":"passed","title":"should return badges with gamification properties"},{"ancestorTitles":["Courses API Integration Tests","GET /api/badges"],"duration":5,"failing":false,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeGreaterThanOrEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: >= \u001b[32m8\u001b[39m\nReceived:    \u001b[31m0\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeGreaterThanOrEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: >= \u001b[32m8\u001b[39m\nReceived:    \u001b[31m0\u001b[39m\n    at Object.toBeGreaterThanOrEqual (/Users/veland/GlassCodeAcademy/backend-node/src/__tests__/integration/api/courses.integration.test.js:167:41)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"Courses API Integration Tests GET /api/badges should have created default badges","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127454630,"status":"failed","title":"should have created default badges"},{"ancestorTitles":["Courses API Integration Tests","Protected Routes - Certificates"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Courses API Integration Tests Protected Routes - Certificates should require authentication for my-certificates","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127454636,"status":"passed","title":"should require authentication for my-certificates"},{"ancestorTitles":["Courses API Integration Tests","Protected Routes - Certificates"],"duration":6,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 401 \"Unauthorized\"\n    at Object.expect (/Users/veland/GlassCodeAcademy/backend-node/src/__tests__/integration/api/courses.integration.test.js:191:10)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)\n----\n    at Test._assertStatus (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:309:14)\n    at assertFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:365:13)\n    at Test.fn [as _assertFunction] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:342:13)\n    at Test._assertFunction [as assert] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:195:23)\n    at assert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:138:14)\n    at Server.localAssert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Courses API Integration Tests Protected Routes - Certificates should return user certificates when authenticated","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127454642,"status":"failed","title":"should return user certificates when authenticated"},{"ancestorTitles":["Courses API Integration Tests","Protected Routes - Certificates"],"duration":5,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 401 \"Unauthorized\"\n    at Object.expect (/Users/veland/GlassCodeAcademy/backend-node/src/__tests__/integration/api/courses.integration.test.js:201:10)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)\n----\n    at Test._assertStatus (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:309:14)\n    at assertFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:365:13)\n    at Test.fn [as _assertFunction] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:342:13)\n    at Test._assertFunction [as assert] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:195:23)\n    at assert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:138:14)\n    at Server.localAssert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Courses API Integration Tests Protected Routes - Certificates should check certificate eligibility for course","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127454648,"status":"failed","title":"should check certificate eligibility for course"},{"ancestorTitles":["Courses API Integration Tests","Forum API"],"duration":10,"failing":false,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoHaveProperty\u001b[2m(\u001b[22m\u001b[32mpath\u001b[39m\u001b[2m, \u001b[22m\u001b[32mvalue\u001b[39m\u001b[2m)\u001b[22m\n\nExpected path: \u001b[32m\"success\"\u001b[39m\nReceived path: \u001b[31m[]\u001b[39m\n\nExpected value: \u001b[32mtrue\u001b[39m\nReceived value: \u001b[31m{\"data\": [], \"status\": 200, \"title\": \"Success\", \"type\": \"https://glasscode/errors/success\"}\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoHaveProperty\u001b[2m(\u001b[22m\u001b[32mpath\u001b[39m\u001b[2m, \u001b[22m\u001b[32mvalue\u001b[39m\u001b[2m)\u001b[22m\n\nExpected path: \u001b[32m\"success\"\u001b[39m\nReceived path: \u001b[31m[]\u001b[39m\n\nExpected value: \u001b[32mtrue\u001b[39m\nReceived value: \u001b[31m{\"data\": [], \"status\": 200, \"title\": \"Success\", \"type\": \"https://glasscode/errors/success\"}\u001b[39m\n    at Object.toHaveProperty (/Users/veland/GlassCodeAcademy/backend-node/src/__tests__/integration/api/courses.integration.test.js:216:29)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"Courses API Integration Tests Forum API should return forum categories without auth","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127454653,"status":"failed","title":"should return forum categories without auth"},{"ancestorTitles":["Courses API Integration Tests","Forum API"],"duration":12,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Courses API Integration Tests Forum API should require auth for creating threads","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127454664,"status":"passed","title":"should require auth for creating threads"},{"ancestorTitles":["Courses API Integration Tests","Notification API"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Courses API Integration Tests Notification API should require authentication for notifications","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127454676,"status":"passed","title":"should require authentication for notifications"},{"ancestorTitles":["Courses API Integration Tests","Notification API"],"duration":5,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 401 \"Unauthorized\"\n    at Object.expect (/Users/veland/GlassCodeAcademy/backend-node/src/__tests__/integration/api/courses.integration.test.js:247:10)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)\n----\n    at Test._assertStatus (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:309:14)\n    at assertFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:365:13)\n    at Test.fn [as _assertFunction] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:342:13)\n    at Test._assertFunction [as assert] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:195:23)\n    at assert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:138:14)\n    at Server.localAssert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Courses API Integration Tests Notification API should return user notifications when authenticated","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127454680,"status":"failed","title":"should return user notifications when authenticated"}],"endTime":1762127454700,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mCourses API Integration Tests › GET /api/badges › should have created default badges\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeGreaterThanOrEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\n    Expected: >= \u001b[32m8\u001b[39m\n    Received:    \u001b[31m0\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 165 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 166 |\u001b[39m       \u001b[90m// Should have at least the 8 default badges\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 167 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39mtoBeGreaterThanOrEqual(\u001b[35m8\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 168 |\u001b[39m       \u001b[22m\n\u001b[2m     \u001b[90m 169 |\u001b[39m       \u001b[90m// Check for specific default badges\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 170 |\u001b[39m       \u001b[36mconst\u001b[39m badgeNames \u001b[33m=\u001b[39m response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mmap(b \u001b[33m=>\u001b[39m b\u001b[33m.\u001b[39mname)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBeGreaterThanOrEqual (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/integration/api/courses.integration.test.js\u001b[39m\u001b[0m\u001b[2m:167:41)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mCourses API Integration Tests › Protected Routes - Certificates › should return user certificates when authenticated\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 401 \"Unauthorized\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 189 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/api/certificates/my-certificates'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 190 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${authToken}`\u001b[39m)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 191 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 192 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 193 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'type'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'https://glasscode/errors/success'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 194 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mdata)\u001b[33m.\u001b[39mtoBeInstanceOf(\u001b[33mArray\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/integration/api/courses.integration.test.js\u001b[39m\u001b[0m\u001b[2m:191:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assertFn (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.fn [as _assertFunction] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction [as assert] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mCourses API Integration Tests › Protected Routes - Certificates › should check certificate eligibility for course\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 401 \"Unauthorized\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 199 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/api/certificates/eligibility/1'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 200 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${authToken}`\u001b[39m)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 201 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 202 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 203 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mdata)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'isEligible'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 204 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mdata)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'userId'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/integration/api/courses.integration.test.js\u001b[39m\u001b[0m\u001b[2m:201:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assertFn (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.fn [as _assertFunction] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction [as assert] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mCourses API Integration Tests › Forum API › should return forum categories without auth\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoHaveProperty\u001b[2m(\u001b[22m\u001b[32mpath\u001b[39m\u001b[2m, \u001b[22m\u001b[32mvalue\u001b[39m\u001b[2m)\u001b[22m\n\n    Expected path: \u001b[32m\"success\"\u001b[39m\n    Received path: \u001b[31m[]\u001b[39m\n\n    Expected value: \u001b[32mtrue\u001b[39m\n    Received value: \u001b[31m{\"data\": [], \"status\": 200, \"title\": \"Success\", \"type\": \"https://glasscode/errors/success\"}\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 214 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 215 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 216 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'success'\u001b[39m\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 217 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mdata)\u001b[33m.\u001b[39mtoBeInstanceOf(\u001b[33mArray\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 218 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 219 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toHaveProperty (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/integration/api/courses.integration.test.js\u001b[39m\u001b[0m\u001b[2m:216:29)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mCourses API Integration Tests › Notification API › should return user notifications when authenticated\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 401 \"Unauthorized\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 245 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/api/notifications'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 246 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${authToken}`\u001b[39m)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 247 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 248 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 249 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'success'\u001b[39m\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 250 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mdata)\u001b[33m.\u001b[39mtoBeInstanceOf(\u001b[33mArray\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/integration/api/courses.integration.test.js\u001b[39m\u001b[0m\u001b[2m:247:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assertFn (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.fn [as _assertFunction] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction [as assert] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n","name":"/Users/veland/GlassCodeAcademy/backend-node/src/__tests__/integration/api/courses.integration.test.js","startTime":1762127453502,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Authentication API","POST /api/auth/register"],"duration":132,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Authentication API POST /api/auth/register should register a new user","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1762127454922,"status":"passed","title":"should register a new user"},{"ancestorTitles":["Authentication API","POST /api/auth/register"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Authentication API POST /api/auth/register should fail to register with invalid data","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127455054,"status":"passed","title":"should fail to register with invalid data"},{"ancestorTitles":["Authentication API","POST /api/auth/login"],"duration":64,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Authentication API POST /api/auth/login should login an existing user","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1762127455057,"status":"passed","title":"should login an existing user"},{"ancestorTitles":["Authentication API","POST /api/auth/login"],"duration":5,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 401 \"Unauthorized\", got 404 \"Not Found\"\n    at Object.expect (/Users/veland/GlassCodeAcademy/backend-node/tests/auth.test.js:76:10)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)\n----\n    at Test._assertStatus (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:309:14)\n    at assertFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:365:13)\n    at Test.fn [as _assertFunction] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:342:13)\n    at Test._assertFunction [as assert] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:195:23)\n    at assert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:138:14)\n    at Server.localAssert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Authentication API POST /api/auth/login should fail to login with invalid credentials","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127455121,"status":"failed","title":"should fail to login with invalid credentials"},{"ancestorTitles":["Authentication API","POST /api/auth/password/request-reset"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Authentication API POST /api/auth/password/request-reset should request password reset","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127455127,"status":"passed","title":"should request password reset"},{"ancestorTitles":["Authentication API","POST /api/auth/password/reset"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Authentication API POST /api/auth/password/reset should reset password with valid token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127455129,"status":"passed","title":"should reset password with valid token"}],"endTime":1762127455136,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuthentication API › POST /api/auth/login › should fail to login with invalid credentials\u001b[39m\u001b[22m\n\n    expected 401 \"Unauthorized\", got 404 \"Not Found\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 74 |\u001b[39m           password\u001b[33m:\u001b[39m \u001b[32m'wrongpassword'\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 75 |\u001b[39m         })\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 76 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m401\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 77 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 78 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mtype)\u001b[33m.\u001b[39mtoBe(\u001b[32m'https://glasscode/errors/unauthorized'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 79 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/auth.test.js\u001b[39m\u001b[0m\u001b[2m:76:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assertFn (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.fn [as _assertFunction] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction [as assert] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n","name":"/Users/veland/GlassCodeAcademy/backend-node/tests/auth.test.js","startTime":1762127454710,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Academy API","POST /api/admin/academies"],"duration":14,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 201 \"Created\", got 500 \"Internal Server Error\"\n    at Object.expect (/Users/veland/GlassCodeAcademy/backend-node/tests/academy.test.js:19:10)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)\n----\n    at Test._assertStatus (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:309:14)\n    at assertFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:365:13)\n    at Test.fn [as _assertFunction] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:342:13)\n    at Test._assertFunction [as assert] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:195:23)\n    at assert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:138:14)\n    at Server.localAssert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Academy API POST /api/admin/academies should create a new academy (test stub)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127455370,"status":"failed","title":"should create a new academy (test stub)"},{"ancestorTitles":["Academy API","GET /api/admin/academies"],"duration":2,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Object.expect (/Users/veland/GlassCodeAcademy/backend-node/tests/academy.test.js:34:10)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)\n----\n    at Test._assertStatus (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:309:14)\n    at assertFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:365:13)\n    at Test.fn [as _assertFunction] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:342:13)\n    at Test._assertFunction [as assert] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:195:23)\n    at assert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:138:14)\n    at Server.localAssert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Academy API GET /api/admin/academies should get all academies (test stub)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127455384,"status":"failed","title":"should get all academies (test stub)"},{"ancestorTitles":["Academy API","GET /api/admin/academies/:id"],"duration":2,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Object.expect (/Users/veland/GlassCodeAcademy/backend-node/tests/academy.test.js:47:10)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)\n----\n    at Test._assertStatus (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:309:14)\n    at assertFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:365:13)\n    at Test.fn [as _assertFunction] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:342:13)\n    at Test._assertFunction [as assert] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:195:23)\n    at assert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:138:14)\n    at Server.localAssert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Academy API GET /api/admin/academies/:id should get an academy by ID (test stub)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127455386,"status":"failed","title":"should get an academy by ID (test stub)"},{"ancestorTitles":["Academy API","PUT /api/admin/academies/:id"],"duration":1,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Object.expect (/Users/veland/GlassCodeAcademy/backend-node/tests/academy.test.js:63:10)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)\n----\n    at Test._assertStatus (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:309:14)\n    at assertFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:365:13)\n    at Test.fn [as _assertFunction] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:342:13)\n    at Test._assertFunction [as assert] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:195:23)\n    at assert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:138:14)\n    at Server.localAssert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Academy API PUT /api/admin/academies/:id should update an academy by ID (test stub)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127455388,"status":"failed","title":"should update an academy by ID (test stub)"},{"ancestorTitles":["Academy API","DELETE /api/admin/academies/:id"],"duration":2,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Object.expect (/Users/veland/GlassCodeAcademy/backend-node/tests/academy.test.js:77:10)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)\n----\n    at Test._assertStatus (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:309:14)\n    at assertFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:365:13)\n    at Test.fn [as _assertFunction] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:342:13)\n    at Test._assertFunction [as assert] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:195:23)\n    at assert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:138:14)\n    at Server.localAssert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Academy API DELETE /api/admin/academies/:id should delete an academy by ID (test stub)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127455389,"status":"failed","title":"should delete an academy by ID (test stub)"},{"ancestorTitles":["Academy API","GET /api/admin/academies/:id/export"],"duration":1,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Object.expect (/Users/veland/GlassCodeAcademy/backend-node/tests/academy.test.js:91:10)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)\n----\n    at Test._assertStatus (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:309:14)\n    at assertFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:365:13)\n    at Test.fn [as _assertFunction] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:342:13)\n    at Test._assertFunction [as assert] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:195:23)\n    at assert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:138:14)\n    at Server.localAssert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Academy API GET /api/admin/academies/:id/export should export academy with nested content (test stub)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127455391,"status":"failed","title":"should export academy with nested content (test stub)"}],"endTime":1762127455404,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAcademy API › POST /api/admin/academies › should create a new academy (test stub)\u001b[39m\u001b[22m\n\n    expected 201 \"Created\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 17 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m authToken)\u001b[22m\n\u001b[2m     \u001b[90m 18 |\u001b[39m         \u001b[33m.\u001b[39msend(academyData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 19 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m201\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 20 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 21 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mtype)\u001b[33m.\u001b[39mtoBe(\u001b[32m'https://glasscode/errors/success'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 22 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[35m201\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/academy.test.js\u001b[39m\u001b[0m\u001b[2m:19:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assertFn (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.fn [as _assertFunction] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction [as assert] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAcademy API › GET /api/admin/academies › should get all academies (test stub)\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 32 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/api/admin/academies'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 33 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m authToken)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 34 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 35 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 36 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mtype)\u001b[33m.\u001b[39mtoBe(\u001b[32m'https://glasscode/errors/success'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 37 |\u001b[39m       expect(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mdata))\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/academy.test.js\u001b[39m\u001b[0m\u001b[2m:34:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assertFn (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.fn [as _assertFunction] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction [as assert] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAcademy API › GET /api/admin/academies/:id › should get an academy by ID (test stub)\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 45 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/api/admin/academies/1'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 46 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m authToken)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 47 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 48 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 49 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mtype)\u001b[33m.\u001b[39mtoBe(\u001b[32m'https://glasscode/errors/success'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 50 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mdata)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/academy.test.js\u001b[39m\u001b[0m\u001b[2m:47:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assertFn (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.fn [as _assertFunction] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction [as assert] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAcademy API › PUT /api/admin/academies/:id › should update an academy by ID (test stub)\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 61 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m authToken)\u001b[22m\n\u001b[2m     \u001b[90m 62 |\u001b[39m         \u001b[33m.\u001b[39msend(updateData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 63 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 64 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 65 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mtype)\u001b[33m.\u001b[39mtoBe(\u001b[32m'https://glasscode/errors/success'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 66 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mdata)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/academy.test.js\u001b[39m\u001b[0m\u001b[2m:63:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assertFn (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.fn [as _assertFunction] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction [as assert] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAcademy API › DELETE /api/admin/academies/:id › should delete an academy by ID (test stub)\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 75 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mdelete\u001b[39m(\u001b[32m'/api/admin/academies/1'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 76 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m authToken)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 77 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 78 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 79 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mtype)\u001b[33m.\u001b[39mtoBe(\u001b[32m'https://glasscode/errors/success'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 80 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mdata)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/academy.test.js\u001b[39m\u001b[0m\u001b[2m:77:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assertFn (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.fn [as _assertFunction] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction [as assert] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAcademy API › GET /api/admin/academies/:id/export › should export academy with nested content (test stub)\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 89 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/api/admin/academies/1/export'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 90 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m authToken)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 91 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 92 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 93 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mtype)\u001b[33m.\u001b[39mtoBe(\u001b[32m'https://glasscode/errors/success'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 94 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mdata)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/academy.test.js\u001b[39m\u001b[0m\u001b[2m:91:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assertFn (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.fn [as _assertFunction] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction [as assert] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n","name":"/Users/veland/GlassCodeAcademy/backend-node/tests/academy.test.js","startTime":1762127455144,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Profile API","GET /api/profile/profile"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Profile API GET /api/profile/profile should get user profile","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127455623,"status":"passed","title":"should get user profile"},{"ancestorTitles":["Profile API","GET /api/profile/profile"],"duration":2,"failing":false,"failureDetails":[{"matcherResult":{"expected":false,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBe (/Users/veland/GlassCodeAcademy/backend-node/tests/profile.test.js:27:32)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"Profile API GET /api/profile/profile should fail to get profile without authentication","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127455633,"status":"failed","title":"should fail to get profile without authentication"},{"ancestorTitles":["Profile API","PUT /api/profile/profile"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Profile API PUT /api/profile/profile should update user profile","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127455635,"status":"passed","title":"should update user profile"},{"ancestorTitles":["Profile API","PUT /api/profile/profile"],"duration":1,"failing":false,"failureDetails":[{"matcherResult":{"expected":false,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBe (/Users/veland/GlassCodeAcademy/backend-node/tests/profile.test.js:59:32)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"Profile API PUT /api/profile/profile should fail to update profile without authentication","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127455640,"status":"failed","title":"should fail to update profile without authentication"}],"endTime":1762127455644,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mProfile API › GET /api/profile/profile › should fail to get profile without authentication\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mfalse\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 25 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m401\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 26 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 27 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 28 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror\u001b[33m.\u001b[39mcode)\u001b[33m.\u001b[39mtoBe(\u001b[32m'AUTHENTICATION_REQUIRED'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 29 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 30 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/profile.test.js\u001b[39m\u001b[0m\u001b[2m:27:32)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mProfile API › PUT /api/profile/profile › should fail to update profile without authentication\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mfalse\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 57 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m401\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 58 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 59 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 60 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror\u001b[33m.\u001b[39mcode)\u001b[33m.\u001b[39mtoBe(\u001b[32m'AUTHENTICATION_REQUIRED'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 61 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 62 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/profile.test.js\u001b[39m\u001b[0m\u001b[2m:59:32)\u001b[22m\u001b[2m\u001b[22m\n","name":"/Users/veland/GlassCodeAcademy/backend-node/tests/profile.test.js","startTime":1762127455407,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Content Management API","POST /api/content/courses"],"duration":15,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 201 \"Created\", got 500 \"Internal Server Error\"\n    at Object.expect (/Users/veland/GlassCodeAcademy/backend-node/tests/contentManagement.test.js:21:10)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)\n----\n    at Test._assertStatus (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:309:14)\n    at assertFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:365:13)\n    at Test.fn [as _assertFunction] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:342:13)\n    at Test._assertFunction [as assert] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:195:23)\n    at assert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:138:14)\n    at Server.localAssert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Content Management API POST /api/content/courses should create a new course","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127455874,"status":"failed","title":"should create a new course"},{"ancestorTitles":["Content Management API","GET /api/content/courses"],"duration":1,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Object.expect (/Users/veland/GlassCodeAcademy/backend-node/tests/contentManagement.test.js:33:10)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)\n----\n    at Test._assertStatus (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:309:14)\n    at assertFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:365:13)\n    at Test.fn [as _assertFunction] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:342:13)\n    at Test._assertFunction [as assert] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:195:23)\n    at assert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:138:14)\n    at Server.localAssert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Content Management API GET /api/content/courses should get all courses","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127455890,"status":"failed","title":"should get all courses"},{"ancestorTitles":["Content Management API","GET /api/content/courses/:id"],"duration":1,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Object.expect (/Users/veland/GlassCodeAcademy/backend-node/tests/contentManagement.test.js:45:10)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)\n----\n    at Test._assertStatus (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:309:14)\n    at assertFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:365:13)\n    at Test.fn [as _assertFunction] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:342:13)\n    at Test._assertFunction [as assert] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:195:23)\n    at assert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:138:14)\n    at Server.localAssert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Content Management API GET /api/content/courses/:id should get a course by ID","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127455892,"status":"failed","title":"should get a course by ID"},{"ancestorTitles":["Content Management API","PUT /api/content/courses/:id"],"duration":2,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Object.expect (/Users/veland/GlassCodeAcademy/backend-node/tests/contentManagement.test.js:61:10)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)\n----\n    at Test._assertStatus (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:309:14)\n    at assertFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:365:13)\n    at Test.fn [as _assertFunction] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:342:13)\n    at Test._assertFunction [as assert] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:195:23)\n    at assert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:138:14)\n    at Server.localAssert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Content Management API PUT /api/content/courses/:id should update a course","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127455893,"status":"failed","title":"should update a course"},{"ancestorTitles":["Content Management API","DELETE /api/content/courses/:id"],"duration":1,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Object.expect (/Users/veland/GlassCodeAcademy/backend-node/tests/contentManagement.test.js:73:10)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)\n----\n    at Test._assertStatus (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:309:14)\n    at assertFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:365:13)\n    at Test.fn [as _assertFunction] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:342:13)\n    at Test._assertFunction [as assert] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:195:23)\n    at assert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:138:14)\n    at Server.localAssert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Content Management API DELETE /api/content/courses/:id should delete a course","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127455895,"status":"failed","title":"should delete a course"},{"ancestorTitles":["Content Management API","POST /api/content/courses/:courseId/modules"],"duration":1,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 201 \"Created\", got 500 \"Internal Server Error\"\n    at Object.expect (/Users/veland/GlassCodeAcademy/backend-node/tests/contentManagement.test.js:93:10)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)\n----\n    at Test._assertStatus (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:309:14)\n    at assertFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:365:13)\n    at Test.fn [as _assertFunction] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:342:13)\n    at Test._assertFunction [as assert] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:195:23)\n    at assert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:138:14)\n    at Server.localAssert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Content Management API POST /api/content/courses/:courseId/modules should create a new module","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127455897,"status":"failed","title":"should create a new module"},{"ancestorTitles":["Content Management API","GET /api/content/courses/:courseId/modules"],"duration":1,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Object.expect (/Users/veland/GlassCodeAcademy/backend-node/tests/contentManagement.test.js:105:10)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)\n----\n    at Test._assertStatus (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:309:14)\n    at assertFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:365:13)\n    at Test.fn [as _assertFunction] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:342:13)\n    at Test._assertFunction [as assert] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:195:23)\n    at assert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:138:14)\n    at Server.localAssert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Content Management API GET /api/content/courses/:courseId/modules should get modules by course ID","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127455898,"status":"failed","title":"should get modules by course ID"},{"ancestorTitles":["Content Management API","POST /api/content/modules/:moduleId/lessons"],"duration":1,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 201 \"Created\", got 500 \"Internal Server Error\"\n    at Object.expect (/Users/veland/GlassCodeAcademy/backend-node/tests/contentManagement.test.js:126:10)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)\n----\n    at Test._assertStatus (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:309:14)\n    at assertFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:365:13)\n    at Test.fn [as _assertFunction] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:342:13)\n    at Test._assertFunction [as assert] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:195:23)\n    at assert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:138:14)\n    at Server.localAssert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Content Management API POST /api/content/modules/:moduleId/lessons should create a new lesson","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127455899,"status":"failed","title":"should create a new lesson"},{"ancestorTitles":["Content Management API","POST /api/content/lessons/:lessonId/quizzes"],"duration":1,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 201 \"Created\", got 500 \"Internal Server Error\"\n    at Object.expect (/Users/veland/GlassCodeAcademy/backend-node/tests/contentManagement.test.js:146:10)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)\n----\n    at Test._assertStatus (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:309:14)\n    at assertFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:365:13)\n    at Test.fn [as _assertFunction] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:342:13)\n    at Test._assertFunction [as assert] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:195:23)\n    at assert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:138:14)\n    at Server.localAssert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Content Management API POST /api/content/lessons/:lessonId/quizzes should create a new quiz","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127455901,"status":"failed","title":"should create a new quiz"}],"endTime":1762127455915,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mContent Management API › POST /api/content/courses › should create a new course\u001b[39m\u001b[22m\n\n    expected 201 \"Created\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 19 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m authToken)\u001b[22m\n\u001b[2m     \u001b[90m 20 |\u001b[39m         \u001b[33m.\u001b[39msend(courseData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 21 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m201\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 22 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 23 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mtype)\u001b[33m.\u001b[39mtoBe(\u001b[32m'https://glasscode/errors/success'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 24 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mtitle)\u001b[33m.\u001b[39mtoBe(courseData\u001b[33m.\u001b[39mtitle)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/contentManagement.test.js\u001b[39m\u001b[0m\u001b[2m:21:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assertFn (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.fn [as _assertFunction] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction [as assert] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mContent Management API › GET /api/content/courses › should get all courses\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 31 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/api/content/courses'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 32 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m authToken)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 33 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 34 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 35 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mtype)\u001b[33m.\u001b[39mtoBe(\u001b[32m'https://glasscode/errors/success'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 36 |\u001b[39m       expect(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mdata))\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/contentManagement.test.js\u001b[39m\u001b[0m\u001b[2m:33:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assertFn (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.fn [as _assertFunction] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction [as assert] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mContent Management API › GET /api/content/courses/:id › should get a course by ID\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 43 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/api/content/courses/1'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 44 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m authToken)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 45 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 46 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 47 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mtype)\u001b[33m.\u001b[39mtoBe(\u001b[32m'https://glasscode/errors/success'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 48 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/contentManagement.test.js\u001b[39m\u001b[0m\u001b[2m:45:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assertFn (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.fn [as _assertFunction] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction [as assert] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mContent Management API › PUT /api/content/courses/:id › should update a course\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 59 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m authToken)\u001b[22m\n\u001b[2m     \u001b[90m 60 |\u001b[39m         \u001b[33m.\u001b[39msend(updateData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 61 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 62 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 63 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mtype)\u001b[33m.\u001b[39mtoBe(\u001b[32m'https://glasscode/errors/success'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 64 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mtitle)\u001b[33m.\u001b[39mtoBe(updateData\u001b[33m.\u001b[39mtitle)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/contentManagement.test.js\u001b[39m\u001b[0m\u001b[2m:61:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assertFn (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.fn [as _assertFunction] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction [as assert] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mContent Management API › DELETE /api/content/courses/:id › should delete a course\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 71 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mdelete\u001b[39m(\u001b[32m'/api/content/courses/1'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 72 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m authToken)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 73 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 74 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 75 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mtype)\u001b[33m.\u001b[39mtoBe(\u001b[32m'https://glasscode/errors/success'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 76 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/contentManagement.test.js\u001b[39m\u001b[0m\u001b[2m:73:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assertFn (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.fn [as _assertFunction] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction [as assert] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mContent Management API › POST /api/content/courses/:courseId/modules › should create a new module\u001b[39m\u001b[22m\n\n    expected 201 \"Created\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 91 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m authToken)\u001b[22m\n\u001b[2m     \u001b[90m 92 |\u001b[39m         \u001b[33m.\u001b[39msend(moduleData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 93 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m201\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 94 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 95 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mtype)\u001b[33m.\u001b[39mtoBe(\u001b[32m'https://glasscode/errors/success'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 96 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mtitle)\u001b[33m.\u001b[39mtoBe(moduleData\u001b[33m.\u001b[39mtitle)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/contentManagement.test.js\u001b[39m\u001b[0m\u001b[2m:93:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assertFn (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.fn [as _assertFunction] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction [as assert] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mContent Management API › GET /api/content/courses/:courseId/modules › should get modules by course ID\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 103 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/api/content/courses/1/modules'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 104 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m authToken)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 105 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 106 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 107 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mtype)\u001b[33m.\u001b[39mtoBe(\u001b[32m'https://glasscode/errors/success'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 108 |\u001b[39m       expect(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mdata))\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/contentManagement.test.js\u001b[39m\u001b[0m\u001b[2m:105:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assertFn (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.fn [as _assertFunction] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction [as assert] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mContent Management API › POST /api/content/modules/:moduleId/lessons › should create a new lesson\u001b[39m\u001b[22m\n\n    expected 201 \"Created\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 124 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m authToken)\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m         \u001b[33m.\u001b[39msend(lessonData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 126 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m201\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 128 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mtype)\u001b[33m.\u001b[39mtoBe(\u001b[32m'https://glasscode/errors/success'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 129 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mtitle)\u001b[33m.\u001b[39mtoBe(lessonData\u001b[33m.\u001b[39mtitle)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/contentManagement.test.js\u001b[39m\u001b[0m\u001b[2m:126:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assertFn (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.fn [as _assertFunction] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction [as assert] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mContent Management API › POST /api/content/lessons/:lessonId/quizzes › should create a new quiz\u001b[39m\u001b[22m\n\n    expected 201 \"Created\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 144 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m authToken)\u001b[22m\n\u001b[2m     \u001b[90m 145 |\u001b[39m         \u001b[33m.\u001b[39msend(quizData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 146 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m201\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 147 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 148 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mtype)\u001b[33m.\u001b[39mtoBe(\u001b[32m'https://glasscode/errors/success'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 149 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mquestion)\u001b[33m.\u001b[39mtoBe(quizData\u001b[33m.\u001b[39mquestion)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/contentManagement.test.js\u001b[39m\u001b[0m\u001b[2m:146:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assertFn (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.fn [as _assertFunction] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction [as assert] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n","name":"/Users/veland/GlassCodeAcademy/backend-node/tests/contentManagement.test.js","startTime":1762127455646,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Admin API","GET /api/admin/users"],"duration":10,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Object.expect (/Users/veland/GlassCodeAcademy/backend-node/tests/admin.test.js:12:10)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)\n----\n    at Test._assertStatus (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:309:14)\n    at assertFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:365:13)\n    at Test.fn [as _assertFunction] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:342:13)\n    at Test._assertFunction [as assert] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:195:23)\n    at assert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:138:14)\n    at Server.localAssert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Admin API GET /api/admin/users should get all users (admin only)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127456124,"status":"failed","title":"should get all users (admin only)"},{"ancestorTitles":["Admin API","GET /api/admin/users"],"duration":2,"failing":false,"failureDetails":[{"matcherResult":{"expected":false,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBe (/Users/veland/GlassCodeAcademy/backend-node/tests/admin.test.js:23:32)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"Admin API GET /api/admin/users should fail to get users without authentication","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127456134,"status":"failed","title":"should fail to get users without authentication"},{"ancestorTitles":["Admin API","GET /api/admin/users/:id"],"duration":2,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Object.expect (/Users/veland/GlassCodeAcademy/backend-node/tests/admin.test.js:33:10)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)\n----\n    at Test._assertStatus (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:309:14)\n    at assertFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:365:13)\n    at Test.fn [as _assertFunction] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:342:13)\n    at Test._assertFunction [as assert] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:195:23)\n    at assert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:138:14)\n    at Server.localAssert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Admin API GET /api/admin/users/:id should get user by ID (admin only)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127456136,"status":"failed","title":"should get user by ID (admin only)"},{"ancestorTitles":["Admin API","POST /api/admin/users/roles"],"duration":4,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 201 \"Created\", got 500 \"Internal Server Error\"\n    at Object.expect (/Users/veland/GlassCodeAcademy/backend-node/tests/admin.test.js:50:10)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)\n----\n    at Test._assertStatus (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:309:14)\n    at assertFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:365:13)\n    at Test.fn [as _assertFunction] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:342:13)\n    at Test._assertFunction [as assert] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:195:23)\n    at assert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:138:14)\n    at Server.localAssert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Admin API POST /api/admin/users/roles should assign role to user (admin only)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127456138,"status":"failed","title":"should assign role to user (admin only)"},{"ancestorTitles":["Admin API","DELETE /api/admin/users/roles"],"duration":1,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Object.expect (/Users/veland/GlassCodeAcademy/backend-node/tests/admin.test.js:67:10)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)\n----\n    at Test._assertStatus (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:309:14)\n    at assertFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:365:13)\n    at Test.fn [as _assertFunction] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:342:13)\n    at Test._assertFunction [as assert] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:195:23)\n    at assert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:138:14)\n    at Server.localAssert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Admin API DELETE /api/admin/users/roles should remove role from user (admin only)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127456142,"status":"failed","title":"should remove role from user (admin only)"},{"ancestorTitles":["Admin API","GET /api/admin/roles"],"duration":1,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Object.expect (/Users/veland/GlassCodeAcademy/backend-node/tests/admin.test.js:78:10)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)\n----\n    at Test._assertStatus (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:309:14)\n    at assertFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:365:13)\n    at Test.fn [as _assertFunction] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:342:13)\n    at Test._assertFunction [as assert] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:195:23)\n    at assert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:138:14)\n    at Server.localAssert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Admin API GET /api/admin/roles should get all roles (admin only)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127456144,"status":"failed","title":"should get all roles (admin only)"}],"endTime":1762127456152,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAdmin API › GET /api/admin/users › should get all users (admin only)\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 10 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/api/admin/users'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 11 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m authToken)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 12 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 13 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 14 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mtype)\u001b[33m.\u001b[39mtoBe(\u001b[32m'https://glasscode/errors/success'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 15 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/admin.test.js\u001b[39m\u001b[0m\u001b[2m:12:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assertFn (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.fn [as _assertFunction] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction [as assert] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAdmin API › GET /api/admin/users › should fail to get users without authentication\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mfalse\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 21 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 22 |\u001b[39m       \u001b[90m// In test mode, authentication errors return the old format\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 23 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 24 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror\u001b[33m.\u001b[39mcode)\u001b[33m.\u001b[39mtoBe(\u001b[32m'AUTHENTICATION_REQUIRED'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 25 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 26 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/admin.test.js\u001b[39m\u001b[0m\u001b[2m:23:32)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAdmin API › GET /api/admin/users/:id › should get user by ID (admin only)\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 31 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/api/admin/users/1'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 32 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m authToken)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 33 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 34 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 35 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mtype)\u001b[33m.\u001b[39mtoBe(\u001b[32m'https://glasscode/errors/success'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 36 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/admin.test.js\u001b[39m\u001b[0m\u001b[2m:33:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assertFn (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.fn [as _assertFunction] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction [as assert] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAdmin API › POST /api/admin/users/roles › should assign role to user (admin only)\u001b[39m\u001b[22m\n\n    expected 201 \"Created\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 48 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m authToken)\u001b[22m\n\u001b[2m     \u001b[90m 49 |\u001b[39m         \u001b[33m.\u001b[39msend(roleData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 50 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m201\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 51 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 52 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mtype)\u001b[33m.\u001b[39mtoBe(\u001b[32m'https://glasscode/errors/success'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 53 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/admin.test.js\u001b[39m\u001b[0m\u001b[2m:50:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assertFn (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.fn [as _assertFunction] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction [as assert] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAdmin API › DELETE /api/admin/users/roles › should remove role from user (admin only)\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 65 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m authToken)\u001b[22m\n\u001b[2m     \u001b[90m 66 |\u001b[39m         \u001b[33m.\u001b[39msend(roleData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 67 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 68 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 69 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mtype)\u001b[33m.\u001b[39mtoBe(\u001b[32m'https://glasscode/errors/success'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 70 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/admin.test.js\u001b[39m\u001b[0m\u001b[2m:67:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assertFn (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.fn [as _assertFunction] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction [as assert] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAdmin API › GET /api/admin/roles › should get all roles (admin only)\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 76 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/api/admin/roles'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 77 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m authToken)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 78 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 79 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 80 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mtype)\u001b[33m.\u001b[39mtoBe(\u001b[32m'https://glasscode/errors/success'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 81 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/admin.test.js\u001b[39m\u001b[0m\u001b[2m:78:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assertFn (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.fn [as _assertFunction] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction [as assert] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n","name":"/Users/veland/GlassCodeAcademy/backend-node/tests/admin.test.js","startTime":1762127455917,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Quiz API","POST /api/quiz/lessons/:lessonId/submit"],"duration":15,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Quiz API POST /api/quiz/lessons/:lessonId/submit should submit quiz answers","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127456360,"status":"passed","title":"should submit quiz answers"},{"ancestorTitles":["Quiz API","POST /api/quiz/lessons/:lessonId/submit"],"duration":2,"failing":false,"failureDetails":[{"matcherResult":{"expected":false,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBe (/Users/veland/GlassCodeAcademy/backend-node/tests/quiz.test.js:40:32)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"Quiz API POST /api/quiz/lessons/:lessonId/submit should fail to submit quiz answers without authentication","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127456375,"status":"failed","title":"should fail to submit quiz answers without authentication"},{"ancestorTitles":["Quiz API","POST /api/quiz/lessons/:lessonId/submit"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Quiz API POST /api/quiz/lessons/:lessonId/submit should fail to submit quiz answers with invalid data","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127456377,"status":"passed","title":"should fail to submit quiz answers with invalid data"},{"ancestorTitles":["Quiz API","GET /api/quiz/summary"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Quiz API GET /api/quiz/summary should get user progress summary","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127456379,"status":"passed","title":"should get user progress summary"},{"ancestorTitles":["Quiz API","GET /api/quiz/summary"],"duration":1,"failing":false,"failureDetails":[{"matcherResult":{"expected":false,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBe (/Users/veland/GlassCodeAcademy/backend-node/tests/quiz.test.js:75:32)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"Quiz API GET /api/quiz/summary should fail to get progress summary without authentication","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127456381,"status":"failed","title":"should fail to get progress summary without authentication"}],"endTime":1762127456385,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mQuiz API › POST /api/quiz/lessons/:lessonId/submit › should fail to submit quiz answers without authentication\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mfalse\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 38 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 39 |\u001b[39m       \u001b[90m// In test mode, authentication errors return the old format\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 40 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 41 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror\u001b[33m.\u001b[39mcode)\u001b[33m.\u001b[39mtoBe(\u001b[32m'AUTHENTICATION_REQUIRED'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 42 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 43 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/quiz.test.js\u001b[39m\u001b[0m\u001b[2m:40:32)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mQuiz API › GET /api/quiz/summary › should fail to get progress summary without authentication\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mfalse\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 73 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 74 |\u001b[39m       \u001b[90m// In test mode, authentication errors return the old format\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 75 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 76 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror\u001b[33m.\u001b[39mcode)\u001b[33m.\u001b[39mtoBe(\u001b[32m'AUTHENTICATION_REQUIRED'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 77 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 78 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/quiz.test.js\u001b[39m\u001b[0m\u001b[2m:75:32)\u001b[22m\u001b[2m\u001b[22m\n","name":"/Users/veland/GlassCodeAcademy/backend-node/tests/quiz.test.js","startTime":1762127456154,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Course API","GET /api/courses"],"duration":15,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Object.expect (/Users/veland/GlassCodeAcademy/backend-node/tests/course.test.js:15:10)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)\n----\n    at Test._assertStatus (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:309:14)\n    at assertFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:365:13)\n    at Test.fn [as _assertFunction] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:342:13)\n    at Test._assertFunction [as assert] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:195:23)\n    at assert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:138:14)\n    at Server.localAssert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Course API GET /api/courses should get all courses","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127456603,"status":"failed","title":"should get all courses"},{"ancestorTitles":["Course API","GET /api/courses"],"duration":3,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Object.expect (/Users/veland/GlassCodeAcademy/backend-node/tests/course.test.js:26:10)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)\n----\n    at Test._assertStatus (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:309:14)\n    at assertFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:365:13)\n    at Test.fn [as _assertFunction] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:342:13)\n    at Test._assertFunction [as assert] (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:195:23)\n    at assert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:138:14)\n    at Server.localAssert (/Users/veland/GlassCodeAcademy/backend-node/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Course API GET /api/courses should get courses with pagination","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127456618,"status":"failed","title":"should get courses with pagination"},{"ancestorTitles":["Course API","GET /api/courses/:id"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Course API GET /api/courses/:id should return 404 for non-existent course","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127456621,"status":"passed","title":"should return 404 for non-existent course"}],"endTime":1762127456627,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mCourse API › GET /api/courses › should get all courses\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 13 |\u001b[39m       \u001b[36mconst\u001b[39m res \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request(app)\u001b[22m\n\u001b[2m     \u001b[90m 14 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/api/courses'\u001b[39m)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 15 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 16 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 17 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 18 |\u001b[39m       expect(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mdata))\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/course.test.js\u001b[39m\u001b[0m\u001b[2m:15:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assertFn (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.fn [as _assertFunction] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction [as assert] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mCourse API › GET /api/courses › should get courses with pagination\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 24 |\u001b[39m       \u001b[36mconst\u001b[39m res \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request(app)\u001b[22m\n\u001b[2m     \u001b[90m 25 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/api/courses?page=1&limit=5'\u001b[39m)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 26 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 27 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 28 |\u001b[39m       expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 29 |\u001b[39m       expect(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mdata))\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/course.test.js\u001b[39m\u001b[0m\u001b[2m:26:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assertFn (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.fn [as _assertFunction] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction [as assert] (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n","name":"/Users/veland/GlassCodeAcademy/backend-node/tests/course.test.js","startTime":1762127456388,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["AuthService","register"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AuthService register should successfully register a new user","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1762127456827,"status":"passed","title":"should successfully register a new user"},{"ancestorTitles":["AuthService","register"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AuthService register should throw error if user already exists","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127456829,"status":"passed","title":"should throw error if user already exists"},{"ancestorTitles":["AuthService","login"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AuthService login should successfully login with valid credentials","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1762127456834,"status":"passed","title":"should successfully login with valid credentials"},{"ancestorTitles":["AuthService","login"],"duration":2,"failing":false,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected substring: \u001b[32m\"Invalid credentials\"\u001b[39m\nReceived message:   \u001b[31m\"User not found\"\u001b[39m\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39muser) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[36mconst\u001b[39m notFound \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'User not found'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     notFound\u001b[33m.\u001b[39mname \u001b[33m=\u001b[39m \u001b[32m'NotFoundError'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     \u001b[36mthrow\u001b[39m notFound\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m   }\u001b[0m\n\n      \u001b[2mat login (\u001b[22msrc/services/authService.js\u001b[2m:76:22)\u001b[22m\n      \u001b[2mat Object.<anonymous> (\u001b[22msrc/__tests__/unit/services/authService.test.js\u001b[2m:120:7)\u001b[22m","pass":false},"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected substring: \u001b[32m\"Invalid credentials\"\u001b[39m\nReceived message:   \u001b[31m\"User not found\"\u001b[39m\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39muser) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[36mconst\u001b[39m notFound \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'User not found'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     notFound\u001b[33m.\u001b[39mname \u001b[33m=\u001b[39m \u001b[32m'NotFoundError'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     \u001b[36mthrow\u001b[39m notFound\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m   }\u001b[0m\n\n      \u001b[2mat login (\u001b[22msrc/services/authService.js\u001b[2m:76:22)\u001b[22m\n      \u001b[2mat Object.<anonymous> (\u001b[22msrc/__tests__/unit/services/authService.test.js\u001b[2m:120:7)\u001b[22m"}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected substring: \u001b[32m\"Invalid credentials\"\u001b[39m\nReceived message:   \u001b[31m\"User not found\"\u001b[39m\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39muser) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[36mconst\u001b[39m notFound \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'User not found'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     notFound\u001b[33m.\u001b[39mname \u001b[33m=\u001b[39m \u001b[32m'NotFoundError'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     \u001b[36mthrow\u001b[39m notFound\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m   }\u001b[0m\n\n      \u001b[2mat login (\u001b[22msrc/services/authService.js\u001b[2m:76:22)\u001b[22m\n      \u001b[2mat Object.<anonymous> (\u001b[22msrc/__tests__/unit/services/authService.test.js\u001b[2m:120:7)\u001b[22m\n    at Object.toThrow (/Users/veland/GlassCodeAcademy/backend-node/node_modules/expect/build/index.js:2155:20)\n    at Object.toThrow (/Users/veland/GlassCodeAcademy/backend-node/src/__tests__/unit/services/authService.test.js:121:18)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)"],"fullName":"AuthService login should throw error with invalid email","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127456834,"status":"failed","title":"should throw error with invalid email"},{"ancestorTitles":["AuthService","login"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AuthService login should throw error with invalid password","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127456837,"status":"passed","title":"should throw error with invalid password"},{"ancestorTitles":["AuthService","generateToken"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AuthService generateToken should generate a valid JWT token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127456838,"status":"passed","title":"should generate a valid JWT token"},{"ancestorTitles":["AuthService","generateToken"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AuthService generateToken should include userId and email in token payload","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127456838,"status":"passed","title":"should include userId and email in token payload"}],"endTime":1762127456841,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuthService › login › should throw error with invalid email\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\n    Expected substring: \u001b[32m\"Invalid credentials\"\u001b[39m\n    Received message:   \u001b[31m\"User not found\"\u001b[39m\n\n        \u001b[0m \u001b[90m 74 |\u001b[39m\n         \u001b[90m 75 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39muser) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[36mconst\u001b[39m notFound \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'User not found'\u001b[39m)\u001b[33m;\u001b[39m\n         \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 77 |\u001b[39m     notFound\u001b[33m.\u001b[39mname \u001b[33m=\u001b[39m \u001b[32m'NotFoundError'\u001b[39m\u001b[33m;\u001b[39m\n         \u001b[90m 78 |\u001b[39m     \u001b[36mthrow\u001b[39m notFound\u001b[33m;\u001b[39m\n         \u001b[90m 79 |\u001b[39m   }\u001b[0m\n\n          \u001b[2mat login (\u001b[22msrc/services/authService.js\u001b[2m:76:22)\u001b[22m\n          \u001b[2mat Object.<anonymous> (\u001b[22msrc/__tests__/unit/services/authService.test.js\u001b[2m:120:7)\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 119 |\u001b[39m       \u001b[90m// Act & Assert\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 120 |\u001b[39m       \u001b[36mawait\u001b[39m expect(login(\u001b[32m'invalid@example.com'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'password'\u001b[39m))\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 121 |\u001b[39m         \u001b[33m.\u001b[39mrejects\u001b[33m.\u001b[39mtoThrow(\u001b[32m'Invalid credentials'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 122 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 124 |\u001b[39m     it(\u001b[32m'should throw error with invalid password'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toThrow (\u001b[22m\u001b[2mnode_modules/expect/build/index.js\u001b[2m:2155:20)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toThrow (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/unit/services/authService.test.js\u001b[39m\u001b[0m\u001b[2m:121:18)\u001b[22m\u001b[2m\u001b[22m\n","name":"/Users/veland/GlassCodeAcademy/backend-node/src/__tests__/unit/services/authService.test.js","startTime":1762127456630,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["authService","generateToken"],"duration":2,"failing":false,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n  \u001b[2m{\"email\": \"test@example.com\", \"userId\": 1}\u001b[22m,\n  \u001b[2m\"test-secret\"\u001b[22m,\n\u001b[2m  Object {\u001b[22m\n\u001b[2m    \"expiresIn\": \"1h\",\u001b[22m\n\u001b[31m+   \"jwtid\": \"14cfbaf5-f719-4b29-b53b-0d996e6d4957\",\u001b[39m\n\u001b[2m  }\u001b[22m,\n\nNumber of calls: \u001b[31m1\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n  \u001b[2m{\"email\": \"test@example.com\", \"userId\": 1}\u001b[22m,\n  \u001b[2m\"test-secret\"\u001b[22m,\n\u001b[2m  Object {\u001b[22m\n\u001b[2m    \"expiresIn\": \"1h\",\u001b[22m\n\u001b[31m+   \"jwtid\": \"14cfbaf5-f719-4b29-b53b-0d996e6d4957\",\u001b[39m\n\u001b[2m  }\u001b[22m,\n\nNumber of calls: \u001b[31m1\u001b[39m\n    at Object.toHaveBeenCalledWith (/Users/veland/GlassCodeAcademy/backend-node/tests/authService.test.js:46:24)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)"],"fullName":"authService generateToken should generate a JWT token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127456945,"status":"failed","title":"should generate a JWT token"},{"ancestorTitles":["authService","register"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"authService register should register a new user","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1762127456951,"status":"passed","title":"should register a new user"},{"ancestorTitles":["authService","register"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"authService register should throw an error if user already exists","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127456951,"status":"passed","title":"should throw an error if user already exists"},{"ancestorTitles":["authService","login"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"authService login should login a user with valid credentials","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1762127456952,"status":"passed","title":"should login a user with valid credentials"},{"ancestorTitles":["authService","login"],"duration":1,"failing":false,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected substring: \u001b[32m\"Invalid credentials\"\u001b[39m\nReceived message:   \u001b[31m\"User not found\"\u001b[39m\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39muser) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[36mconst\u001b[39m notFound \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'User not found'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     notFound\u001b[33m.\u001b[39mname \u001b[33m=\u001b[39m \u001b[32m'NotFoundError'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     \u001b[36mthrow\u001b[39m notFound\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m   }\u001b[0m\n\n      \u001b[2mat Object.login (\u001b[22msrc/services/authService.js\u001b[2m:76:22)\u001b[22m\n      \u001b[2mat Object.<anonymous> (\u001b[22mtests/authService.test.js\u001b[2m:164:7)\u001b[22m","pass":false},"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected substring: \u001b[32m\"Invalid credentials\"\u001b[39m\nReceived message:   \u001b[31m\"User not found\"\u001b[39m\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39muser) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[36mconst\u001b[39m notFound \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'User not found'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     notFound\u001b[33m.\u001b[39mname \u001b[33m=\u001b[39m \u001b[32m'NotFoundError'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     \u001b[36mthrow\u001b[39m notFound\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m   }\u001b[0m\n\n      \u001b[2mat Object.login (\u001b[22msrc/services/authService.js\u001b[2m:76:22)\u001b[22m\n      \u001b[2mat Object.<anonymous> (\u001b[22mtests/authService.test.js\u001b[2m:164:7)\u001b[22m"}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected substring: \u001b[32m\"Invalid credentials\"\u001b[39m\nReceived message:   \u001b[31m\"User not found\"\u001b[39m\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39muser) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[36mconst\u001b[39m notFound \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'User not found'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     notFound\u001b[33m.\u001b[39mname \u001b[33m=\u001b[39m \u001b[32m'NotFoundError'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     \u001b[36mthrow\u001b[39m notFound\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m   }\u001b[0m\n\n      \u001b[2mat Object.login (\u001b[22msrc/services/authService.js\u001b[2m:76:22)\u001b[22m\n      \u001b[2mat Object.<anonymous> (\u001b[22mtests/authService.test.js\u001b[2m:164:7)\u001b[22m\n    at Object.toThrow (/Users/veland/GlassCodeAcademy/backend-node/node_modules/expect/build/index.js:2155:20)\n    at Object.toThrow (/Users/veland/GlassCodeAcademy/backend-node/tests/authService.test.js:165:18)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)"],"fullName":"authService login should throw an error if user does not exist","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127456953,"status":"failed","title":"should throw an error if user does not exist"},{"ancestorTitles":["authService","login"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"authService login should throw an error if password is invalid","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127456955,"status":"passed","title":"should throw an error if password is invalid"}],"endTime":1762127456958,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mauthService › generateToken › should generate a JWT token\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n    \u001b[32m- Expected\u001b[39m\n    \u001b[31m+ Received\u001b[39m\n\n      \u001b[2m{\"email\": \"test@example.com\", \"userId\": 1}\u001b[22m,\n      \u001b[2m\"test-secret\"\u001b[22m,\n    \u001b[2m  Object {\u001b[22m\n    \u001b[2m    \"expiresIn\": \"1h\",\u001b[22m\n    \u001b[31m+   \"jwtid\": \"14cfbaf5-f719-4b29-b53b-0d996e6d4957\",\u001b[39m\n    \u001b[2m  }\u001b[22m,\n\n    Number of calls: \u001b[31m1\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 44 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 45 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoBe(mockToken)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 46 |\u001b[39m       expect(jwt\u001b[33m.\u001b[39msign)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 47 |\u001b[39m         { userId\u001b[33m:\u001b[39m mockUser\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m mockUser\u001b[33m.\u001b[39memail }\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 48 |\u001b[39m         \u001b[32m'test-secret'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 49 |\u001b[39m         { expiresIn\u001b[33m:\u001b[39m \u001b[32m'1h'\u001b[39m }\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toHaveBeenCalledWith (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/authService.test.js\u001b[39m\u001b[0m\u001b[2m:46:24)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mauthService › login › should throw an error if user does not exist\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\n    Expected substring: \u001b[32m\"Invalid credentials\"\u001b[39m\n    Received message:   \u001b[31m\"User not found\"\u001b[39m\n\n        \u001b[0m \u001b[90m 74 |\u001b[39m\n         \u001b[90m 75 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39muser) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[36mconst\u001b[39m notFound \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'User not found'\u001b[39m)\u001b[33m;\u001b[39m\n         \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 77 |\u001b[39m     notFound\u001b[33m.\u001b[39mname \u001b[33m=\u001b[39m \u001b[32m'NotFoundError'\u001b[39m\u001b[33m;\u001b[39m\n         \u001b[90m 78 |\u001b[39m     \u001b[36mthrow\u001b[39m notFound\u001b[33m;\u001b[39m\n         \u001b[90m 79 |\u001b[39m   }\u001b[0m\n\n          \u001b[2mat Object.login (\u001b[22msrc/services/authService.js\u001b[2m:76:22)\u001b[22m\n          \u001b[2mat Object.<anonymous> (\u001b[22mtests/authService.test.js\u001b[2m:164:7)\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 163 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 164 |\u001b[39m       \u001b[36mawait\u001b[39m expect(authService\u001b[33m.\u001b[39mlogin(email\u001b[33m,\u001b[39m password))\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 165 |\u001b[39m         \u001b[33m.\u001b[39mrejects\u001b[33m.\u001b[39mtoThrow(\u001b[32m'Invalid credentials'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 166 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 167 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 168 |\u001b[39m     it(\u001b[32m'should throw an error if password is invalid'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toThrow (\u001b[22m\u001b[2mnode_modules/expect/build/index.js\u001b[2m:2155:20)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toThrow (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/authService.test.js\u001b[39m\u001b[0m\u001b[2m:165:18)\u001b[22m\u001b[2m\u001b[22m\n","name":"/Users/veland/GlassCodeAcademy/backend-node/tests/authService.test.js","startTime":1762127456844,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Auth Service","generateToken"],"duration":2,"failing":false,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n  \u001b[2m{\"email\": \"test@example.com\", \"userId\": 1}\u001b[22m,\n  \u001b[2m\"test-secret\"\u001b[22m,\n\u001b[2m  Object {\u001b[22m\n\u001b[2m    \"expiresIn\": \"1h\",\u001b[22m\n\u001b[31m+   \"jwtid\": \"6699f9dc-7d7b-442e-b778-38193dd9e748\",\u001b[39m\n\u001b[2m  }\u001b[22m,\n\nNumber of calls: \u001b[31m1\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n  \u001b[2m{\"email\": \"test@example.com\", \"userId\": 1}\u001b[22m,\n  \u001b[2m\"test-secret\"\u001b[22m,\n\u001b[2m  Object {\u001b[22m\n\u001b[2m    \"expiresIn\": \"1h\",\u001b[22m\n\u001b[31m+   \"jwtid\": \"6699f9dc-7d7b-442e-b778-38193dd9e748\",\u001b[39m\n\u001b[2m  }\u001b[22m,\n\nNumber of calls: \u001b[31m1\u001b[39m\n    at Object.toHaveBeenCalledWith (/Users/veland/GlassCodeAcademy/backend-node/tests/services/authService.test.js:45:24)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)"],"fullName":"Auth Service generateToken should generate a JWT token","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127457058,"status":"failed","title":"should generate a JWT token"},{"ancestorTitles":["Auth Service","register"],"duration":1,"failing":false,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n  \u001b[2m{\"email\": \"test@example.com\", \"userId\": 1}\u001b[22m,\n  \u001b[2m\"test-secret\"\u001b[22m,\n\u001b[2m  Object {\u001b[22m\n\u001b[2m    \"expiresIn\": \"1h\",\u001b[22m\n\u001b[31m+   \"jwtid\": \"70949238-a3be-4b5c-9116-ab07b5c0080b\",\u001b[39m\n\u001b[2m  }\u001b[22m,\n\nNumber of calls: \u001b[31m1\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n  \u001b[2m{\"email\": \"test@example.com\", \"userId\": 1}\u001b[22m,\n  \u001b[2m\"test-secret\"\u001b[22m,\n\u001b[2m  Object {\u001b[22m\n\u001b[2m    \"expiresIn\": \"1h\",\u001b[22m\n\u001b[31m+   \"jwtid\": \"70949238-a3be-4b5c-9116-ab07b5c0080b\",\u001b[39m\n\u001b[2m  }\u001b[22m,\n\nNumber of calls: \u001b[31m1\u001b[39m\n    at Object.toHaveBeenCalledWith (/Users/veland/GlassCodeAcademy/backend-node/tests/services/authService.test.js:90:24)"],"fullName":"Auth Service register should register a new user","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127457063,"status":"failed","title":"should register a new user"},{"ancestorTitles":["Auth Service","register"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Service register should throw error when user already exists","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1762127457064,"status":"passed","title":"should throw error when user already exists"},{"ancestorTitles":["Auth Service","login"],"duration":1,"failing":false,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n  \u001b[2m{\"email\": \"test@example.com\", \"userId\": 1}\u001b[22m,\n  \u001b[2m\"test-secret\"\u001b[22m,\n\u001b[2m  Object {\u001b[22m\n\u001b[2m    \"expiresIn\": \"1h\",\u001b[22m\n\u001b[31m+   \"jwtid\": \"43aaf586-747c-4b8a-bfc5-b2205fa09def\",\u001b[39m\n\u001b[2m  }\u001b[22m,\n\nNumber of calls: \u001b[31m1\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n  \u001b[2m{\"email\": \"test@example.com\", \"userId\": 1}\u001b[22m,\n  \u001b[2m\"test-secret\"\u001b[22m,\n\u001b[2m  Object {\u001b[22m\n\u001b[2m    \"expiresIn\": \"1h\",\u001b[22m\n\u001b[31m+   \"jwtid\": \"43aaf586-747c-4b8a-bfc5-b2205fa09def\",\u001b[39m\n\u001b[2m  }\u001b[22m,\n\nNumber of calls: \u001b[31m1\u001b[39m\n    at Object.toHaveBeenCalledWith (/Users/veland/GlassCodeAcademy/backend-node/tests/services/authService.test.js:159:24)"],"fullName":"Auth Service login should login a user with valid credentials","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1762127457067,"status":"failed","title":"should login a user with valid credentials"},{"ancestorTitles":["Auth Service","login"],"duration":2,"failing":false,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected substring: \u001b[32m\"Invalid credentials\"\u001b[39m\nReceived message:   \u001b[31m\"User not found\"\u001b[39m\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39muser) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[36mconst\u001b[39m notFound \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'User not found'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     notFound\u001b[33m.\u001b[39mname \u001b[33m=\u001b[39m \u001b[32m'NotFoundError'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     \u001b[36mthrow\u001b[39m notFound\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m   }\u001b[0m\n\n      \u001b[2mat login (\u001b[22msrc/services/authService.js\u001b[2m:76:22)\u001b[22m\n      \u001b[2mat Object.<anonymous> (\u001b[22mtests/services/authService.test.js\u001b[2m:181:7)\u001b[22m","pass":false},"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected substring: \u001b[32m\"Invalid credentials\"\u001b[39m\nReceived message:   \u001b[31m\"User not found\"\u001b[39m\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39muser) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[36mconst\u001b[39m notFound \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'User not found'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     notFound\u001b[33m.\u001b[39mname \u001b[33m=\u001b[39m \u001b[32m'NotFoundError'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     \u001b[36mthrow\u001b[39m notFound\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m   }\u001b[0m\n\n      \u001b[2mat login (\u001b[22msrc/services/authService.js\u001b[2m:76:22)\u001b[22m\n      \u001b[2mat Object.<anonymous> (\u001b[22mtests/services/authService.test.js\u001b[2m:181:7)\u001b[22m"}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected substring: \u001b[32m\"Invalid credentials\"\u001b[39m\nReceived message:   \u001b[31m\"User not found\"\u001b[39m\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39muser) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[36mconst\u001b[39m notFound \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'User not found'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     notFound\u001b[33m.\u001b[39mname \u001b[33m=\u001b[39m \u001b[32m'NotFoundError'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     \u001b[36mthrow\u001b[39m notFound\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m   }\u001b[0m\n\n      \u001b[2mat login (\u001b[22msrc/services/authService.js\u001b[2m:76:22)\u001b[22m\n      \u001b[2mat Object.<anonymous> (\u001b[22mtests/services/authService.test.js\u001b[2m:181:7)\u001b[22m\n    at Object.toThrow (/Users/veland/GlassCodeAcademy/backend-node/node_modules/expect/build/index.js:2155:20)\n    at Object.toThrow (/Users/veland/GlassCodeAcademy/backend-node/tests/services/authService.test.js:181:52)\n    at Promise.finally.completed (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at _runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-circus/build/runner.js:103:25)\n    at runTestInternal (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:300:22)\n    at runTest (/Users/veland/GlassCodeAcademy/backend-node/node_modules/jest-runner/build/index.js:368:13)"],"fullName":"Auth Service login should throw error when user not found","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1762127457068,"status":"failed","title":"should throw error when user not found"},{"ancestorTitles":["Auth Service","login"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Service login should throw error when password is invalid","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1762127457070,"status":"passed","title":"should throw error when password is invalid"}],"endTime":1762127457076,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuth Service › generateToken › should generate a JWT token\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n    \u001b[32m- Expected\u001b[39m\n    \u001b[31m+ Received\u001b[39m\n\n      \u001b[2m{\"email\": \"test@example.com\", \"userId\": 1}\u001b[22m,\n      \u001b[2m\"test-secret\"\u001b[22m,\n    \u001b[2m  Object {\u001b[22m\n    \u001b[2m    \"expiresIn\": \"1h\",\u001b[22m\n    \u001b[31m+   \"jwtid\": \"6699f9dc-7d7b-442e-b778-38193dd9e748\",\u001b[39m\n    \u001b[2m  }\u001b[22m,\n\n    Number of calls: \u001b[31m1\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 43 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m generateToken(mockUser)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 44 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 45 |\u001b[39m       expect(jwt\u001b[33m.\u001b[39msign)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 46 |\u001b[39m         { userId\u001b[33m:\u001b[39m \u001b[35m1\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'test@example.com'\u001b[39m }\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 47 |\u001b[39m         \u001b[32m'test-secret'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 48 |\u001b[39m         { expiresIn\u001b[33m:\u001b[39m \u001b[32m'1h'\u001b[39m }\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toHaveBeenCalledWith (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/services/authService.test.js\u001b[39m\u001b[0m\u001b[2m:45:24)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuth Service › register › should register a new user\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n    \u001b[32m- Expected\u001b[39m\n    \u001b[31m+ Received\u001b[39m\n\n      \u001b[2m{\"email\": \"test@example.com\", \"userId\": 1}\u001b[22m,\n      \u001b[2m\"test-secret\"\u001b[22m,\n    \u001b[2m  Object {\u001b[22m\n    \u001b[2m    \"expiresIn\": \"1h\",\u001b[22m\n    \u001b[31m+   \"jwtid\": \"70949238-a3be-4b5c-9116-ab07b5c0080b\",\u001b[39m\n    \u001b[2m  }\u001b[22m,\n\n    Number of calls: \u001b[31m1\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 88 |\u001b[39m         passwordHash\u001b[33m:\u001b[39m \u001b[32m'password123'\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 89 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 90 |\u001b[39m       expect(jwt\u001b[33m.\u001b[39msign)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 91 |\u001b[39m         { userId\u001b[33m:\u001b[39m \u001b[35m1\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'test@example.com'\u001b[39m }\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 92 |\u001b[39m         \u001b[32m'test-secret'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 93 |\u001b[39m         { expiresIn\u001b[33m:\u001b[39m \u001b[32m'1h'\u001b[39m }\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toHaveBeenCalledWith (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/services/authService.test.js\u001b[39m\u001b[0m\u001b[2m:90:24)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuth Service › login › should login a user with valid credentials\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n    \u001b[32m- Expected\u001b[39m\n    \u001b[31m+ Received\u001b[39m\n\n      \u001b[2m{\"email\": \"test@example.com\", \"userId\": 1}\u001b[22m,\n      \u001b[2m\"test-secret\"\u001b[22m,\n    \u001b[2m  Object {\u001b[22m\n    \u001b[2m    \"expiresIn\": \"1h\",\u001b[22m\n    \u001b[31m+   \"jwtid\": \"43aaf586-747c-4b8a-bfc5-b2205fa09def\",\u001b[39m\n    \u001b[2m  }\u001b[22m,\n\n    Number of calls: \u001b[31m1\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 157 |\u001b[39m         lastLoginAt\u001b[33m:\u001b[39m expect\u001b[33m.\u001b[39many(\u001b[33mDate\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 158 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 159 |\u001b[39m       expect(jwt\u001b[33m.\u001b[39msign)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 160 |\u001b[39m         { userId\u001b[33m:\u001b[39m \u001b[35m1\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'test@example.com'\u001b[39m }\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 161 |\u001b[39m         \u001b[32m'test-secret'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 162 |\u001b[39m         { expiresIn\u001b[33m:\u001b[39m \u001b[32m'1h'\u001b[39m }\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toHaveBeenCalledWith (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/services/authService.test.js\u001b[39m\u001b[0m\u001b[2m:159:24)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuth Service › login › should throw error when user not found\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\n    Expected substring: \u001b[32m\"Invalid credentials\"\u001b[39m\n    Received message:   \u001b[31m\"User not found\"\u001b[39m\n\n        \u001b[0m \u001b[90m 74 |\u001b[39m\n         \u001b[90m 75 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39muser) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[36mconst\u001b[39m notFound \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'User not found'\u001b[39m)\u001b[33m;\u001b[39m\n         \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 77 |\u001b[39m     notFound\u001b[33m.\u001b[39mname \u001b[33m=\u001b[39m \u001b[32m'NotFoundError'\u001b[39m\u001b[33m;\u001b[39m\n         \u001b[90m 78 |\u001b[39m     \u001b[36mthrow\u001b[39m notFound\u001b[33m;\u001b[39m\n         \u001b[90m 79 |\u001b[39m   }\u001b[0m\n\n          \u001b[2mat login (\u001b[22msrc/services/authService.js\u001b[2m:76:22)\u001b[22m\n          \u001b[2mat Object.<anonymous> (\u001b[22mtests/services/authService.test.js\u001b[2m:181:7)\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 179 |\u001b[39m       \u001b[33mUser\u001b[39m\u001b[33m.\u001b[39mfindOne\u001b[33m.\u001b[39mmockResolvedValue(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 180 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 181 |\u001b[39m       \u001b[36mawait\u001b[39m expect(login(email\u001b[33m,\u001b[39m password))\u001b[33m.\u001b[39mrejects\u001b[33m.\u001b[39mtoThrow(\u001b[32m'Invalid credentials'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 182 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 183 |\u001b[39m       expect(\u001b[33mUser\u001b[39m\u001b[33m.\u001b[39mfindOne)\u001b[33m.\u001b[39mtoHaveBeenCalledWith({\u001b[22m\n\u001b[2m     \u001b[90m 184 |\u001b[39m         where\u001b[33m:\u001b[39m { email\u001b[33m:\u001b[39m \u001b[32m'nonexistent@example.com'\u001b[39m }\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toThrow (\u001b[22m\u001b[2mnode_modules/expect/build/index.js\u001b[2m:2155:20)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toThrow (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/services/authService.test.js\u001b[39m\u001b[0m\u001b[2m:181:52)\u001b[22m\u001b[2m\u001b[22m\n","name":"/Users/veland/GlassCodeAcademy/backend-node/tests/services/authService.test.js","startTime":1762127456962,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Authentication API Integration Tests","POST /api/auth/register"],"duration":99,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Authentication API Integration Tests POST /api/auth/register should register a new user successfully","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"startAt":1762127457378,"status":"passed","title":"should register a new user successfully"},{"ancestorTitles":["Authentication API Integration Tests","POST /api/auth/register"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Authentication API Integration Tests POST /api/auth/register should return 400 for missing required fields","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127457477,"status":"passed","title":"should return 400 for missing required fields"},{"ancestorTitles":["Authentication API Integration Tests","POST /api/auth/register"],"duration":68,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Authentication API Integration Tests POST /api/auth/register should return 400 for duplicate email","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127457483,"status":"passed","title":"should return 400 for duplicate email"},{"ancestorTitles":["Authentication API Integration Tests","POST /api/auth/register"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Authentication API Integration Tests POST /api/auth/register should return 400 for invalid email format","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127457552,"status":"passed","title":"should return 400 for invalid email format"},{"ancestorTitles":["Authentication API Integration Tests","POST /api/auth/login"],"duration":123,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Authentication API Integration Tests POST /api/auth/login should login successfully with correct credentials","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1762127457556,"status":"passed","title":"should login successfully with correct credentials"},{"ancestorTitles":["Authentication API Integration Tests","POST /api/auth/login"],"duration":142,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Authentication API Integration Tests POST /api/auth/login should return 401 for incorrect password","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127457679,"status":"passed","title":"should return 401 for incorrect password"},{"ancestorTitles":["Authentication API Integration Tests","POST /api/auth/login"],"duration":67,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Authentication API Integration Tests POST /api/auth/login should return 404 for non-existent user","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127457822,"status":"passed","title":"should return 404 for non-existent user"},{"ancestorTitles":["Authentication API Integration Tests","POST /api/auth/login"],"duration":63,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Authentication API Integration Tests POST /api/auth/login should return 400 for missing credentials","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127457889,"status":"passed","title":"should return 400 for missing credentials"},{"ancestorTitles":["Authentication API Integration Tests","Authentication Flow"],"duration":122,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Authentication API Integration Tests Authentication Flow should complete full registration and login flow","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1762127457952,"status":"passed","title":"should complete full registration and login flow"}],"endTime":1762127458075,"message":"","name":"/Users/veland/GlassCodeAcademy/backend-node/src/__tests__/integration/api/auth.integration.test.js","startTime":1762127457078,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Module Controller - getQuizzesByModuleSlugController"],"duration":13,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Module Controller - getQuizzesByModuleSlugController should return quizzes for a valid module slug","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1762127458435,"status":"passed","title":"should return quizzes for a valid module slug"},{"ancestorTitles":["Module Controller - getQuizzesByModuleSlugController"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Module Controller - getQuizzesByModuleSlugController should return 404 when module is not found","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1762127458449,"status":"passed","title":"should return 404 when module is not found"},{"ancestorTitles":["Module Controller - getQuizzesByModuleSlugController"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Module Controller - getQuizzesByModuleSlugController should return empty array when no lessons are found for module","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1762127458452,"status":"passed","title":"should return empty array when no lessons are found for module"},{"ancestorTitles":["Module Controller - getQuizzesByModuleSlugController"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Module Controller - getQuizzesByModuleSlugController should handle internal server errors gracefully","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1762127458457,"status":"passed","title":"should handle internal server errors gracefully"}],"endTime":1762127458460,"message":"","name":"/Users/veland/GlassCodeAcademy/backend-node/tests/moduleController.test.js","startTime":1762127458087,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Module Quiz Endpoint Integration Tests","GET /api/modules/:slug/quiz"],"duration":14,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Module Quiz Endpoint Integration Tests GET /api/modules/:slug/quiz should get quizzes for a module using full slug","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1762127458702,"status":"passed","title":"should get quizzes for a module using full slug"},{"ancestorTitles":["Module Quiz Endpoint Integration Tests","GET /api/modules/:slug/quiz"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Module Quiz Endpoint Integration Tests GET /api/modules/:slug/quiz should get quizzes for a module using short slug","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1762127458716,"status":"passed","title":"should get quizzes for a module using short slug"},{"ancestorTitles":["Module Quiz Endpoint Integration Tests","GET /api/modules/:slug/quiz"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Module Quiz Endpoint Integration Tests GET /api/modules/:slug/quiz should return empty array for module with no lessons","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127458720,"status":"passed","title":"should return empty array for module with no lessons"},{"ancestorTitles":["Module Quiz Endpoint Integration Tests","GET /api/modules/:slug/quiz"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Module Quiz Endpoint Integration Tests GET /api/modules/:slug/quiz should return 404 for non-existent module","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127458724,"status":"passed","title":"should return 404 for non-existent module"}],"endTime":1762127458727,"message":"","name":"/Users/veland/GlassCodeAcademy/backend-node/tests/moduleQuizIntegration.test.js","startTime":1762127458465,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["API Structure"],"duration":17,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"API Structure should have health check endpoint","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127458965,"status":"passed","title":"should have health check endpoint"},{"ancestorTitles":["API Structure"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"API Structure should return 404 for unknown routes","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127458983,"status":"passed","title":"should return 404 for unknown routes"}],"endTime":1762127458985,"message":"","name":"/Users/veland/GlassCodeAcademy/backend-node/tests/api-structure.test.js","startTime":1762127458731,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Health endpoint"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Health endpoint returns 200 and success:true","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459217,"status":"passed","title":"returns 200 and success:true"},{"ancestorTitles":["Health endpoint"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Health endpoint returns 404 for unknown route","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459222,"status":"passed","title":"returns 404 for unknown route"}],"endTime":1762127459224,"message":"","name":"/Users/veland/GlassCodeAcademy/backend-node/tests/health.test.js","startTime":1762127458987,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ContentService","getAllCourses"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ContentService getAllCourses should return paginated published courses","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1762127459430,"status":"passed","title":"should return paginated published courses"},{"ancestorTitles":["ContentService","getAllCourses"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ContentService getAllCourses should use default pagination options","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127459432,"status":"passed","title":"should use default pagination options"},{"ancestorTitles":["ContentService","getAllCourses"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ContentService getAllCourses should calculate correct offset for page 2","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127459432,"status":"passed","title":"should calculate correct offset for page 2"},{"ancestorTitles":["ContentService","getCourseById"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ContentService getCourseById should return course with modules and lessons","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459432,"status":"passed","title":"should return course with modules and lessons"},{"ancestorTitles":["ContentService","getCourseById"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ContentService getCourseById should return null if course not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127459433,"status":"passed","title":"should return null if course not found"},{"ancestorTitles":["ContentService","getAllModules"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ContentService getAllModules should return all published modules ordered by order field","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459433,"status":"passed","title":"should return all published modules ordered by order field"},{"ancestorTitles":["ContentService","getAllModules"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ContentService getAllModules should return empty array when no modules exist","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127459434,"status":"passed","title":"should return empty array when no modules exist"},{"ancestorTitles":["ContentService","getModuleById"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ContentService getModuleById should return module with published lessons","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459434,"status":"passed","title":"should return module with published lessons"},{"ancestorTitles":["ContentService","getModuleById"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ContentService getModuleById should return null if module not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127459434,"status":"passed","title":"should return null if module not found"},{"ancestorTitles":["ContentService","getLessonById"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ContentService getLessonById should return lesson by ID","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459435,"status":"passed","title":"should return lesson by ID"},{"ancestorTitles":["ContentService","getLessonById"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ContentService getLessonById should return null if lesson not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127459435,"status":"passed","title":"should return null if lesson not found"},{"ancestorTitles":["ContentService","getLessonsByModuleId"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ContentService getLessonsByModuleId should return published lessons for a module ordered by order field","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459436,"status":"passed","title":"should return published lessons for a module ordered by order field"},{"ancestorTitles":["ContentService","getLessonsByModuleId"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ContentService getLessonsByModuleId should return empty array when no lessons exist for module","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127459436,"status":"passed","title":"should return empty array when no lessons exist for module"},{"ancestorTitles":["ContentService","getQuizzesByLessonId"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ContentService getQuizzesByLessonId should return published quizzes for a lesson","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459436,"status":"passed","title":"should return published quizzes for a lesson"},{"ancestorTitles":["ContentService","getQuizzesByLessonId"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ContentService getQuizzesByLessonId should filter out quizzes with invalid IDs","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1762127459437,"status":"passed","title":"should filter out quizzes with invalid IDs"},{"ancestorTitles":["ContentService","getQuizzesByLessonId"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ContentService getQuizzesByLessonId should return empty array when no quizzes exist for lesson","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127459437,"status":"passed","title":"should return empty array when no quizzes exist for lesson"},{"ancestorTitles":["ContentService","getQuizzesByLessonId"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ContentService getQuizzesByLessonId should return empty array when all quizzes have invalid IDs","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127459437,"status":"passed","title":"should return empty array when all quizzes have invalid IDs"}],"endTime":1762127459438,"message":"","name":"/Users/veland/GlassCodeAcademy/backend-node/src/__tests__/unit/services/contentService.test.js","startTime":1762127459225,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ProgressService","getUserCourseProgress"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProgressService getUserCourseProgress should return user progress for a course","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459616,"status":"passed","title":"should return user progress for a course"},{"ancestorTitles":["ProgressService","getUserCourseProgress"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProgressService getUserCourseProgress should return null if no progress found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127459620,"status":"passed","title":"should return null if no progress found"},{"ancestorTitles":["ProgressService","getUserLessonProgress"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProgressService getUserLessonProgress should return user lesson progress","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459620,"status":"passed","title":"should return user lesson progress"},{"ancestorTitles":["ProgressService","getUserLessonProgress"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProgressService getUserLessonProgress should return null if no progress found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127459621,"status":"passed","title":"should return null if no progress found"},{"ancestorTitles":["ProgressService","updateUserLessonProgress"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProgressService updateUserLessonProgress should create new progress if none exists","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459621,"status":"passed","title":"should create new progress if none exists"},{"ancestorTitles":["ProgressService","updateUserLessonProgress"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProgressService updateUserLessonProgress should update existing progress and increment time","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459622,"status":"passed","title":"should update existing progress and increment time"},{"ancestorTitles":["ProgressService","updateUserLessonProgress"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProgressService updateUserLessonProgress should send notification when lesson is completed","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127459622,"status":"passed","title":"should send notification when lesson is completed"},{"ancestorTitles":["ProgressService","submitQuizAnswers"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProgressService submitQuizAnswers should calculate score correctly for multiple choice questions","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1762127459623,"status":"passed","title":"should calculate score correctly for multiple choice questions"},{"ancestorTitles":["ProgressService","submitQuizAnswers"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProgressService submitQuizAnswers should calculate passing score correctly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459623,"status":"passed","title":"should calculate passing score correctly"},{"ancestorTitles":["ProgressService","submitQuizAnswers"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProgressService submitQuizAnswers should handle open-ended questions","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459624,"status":"passed","title":"should handle open-ended questions"},{"ancestorTitles":["ProgressService","submitQuizAnswers"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProgressService submitQuizAnswers should throw error if quiz not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127459624,"status":"passed","title":"should throw error if quiz not found"},{"ancestorTitles":["ProgressService","submitQuizAnswers"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProgressService submitQuizAnswers should send quiz result notification","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127459634,"status":"passed","title":"should send quiz result notification"},{"ancestorTitles":["ProgressService","recordQuizAttempt"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProgressService recordQuizAttempt should create a quiz attempt with provided data","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459635,"status":"passed","title":"should create a quiz attempt with provided data"},{"ancestorTitles":["ProgressService","recordQuizAttempt"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProgressService recordQuizAttempt should calculate time spent if start and end times provided","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127459635,"status":"passed","title":"should calculate time spent if start and end times provided"},{"ancestorTitles":["ProgressService","recordQuizAttempt"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProgressService recordQuizAttempt should determine device type from user agent","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459636,"status":"passed","title":"should determine device type from user agent"},{"ancestorTitles":["ProgressService","getQuizAttempts"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProgressService getQuizAttempts should return quiz attempts for a user and lesson","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459636,"status":"passed","title":"should return quiz attempts for a user and lesson"},{"ancestorTitles":["ProgressService","getQuizAttempts"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProgressService getQuizAttempts should return empty array if no attempts found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127459636,"status":"passed","title":"should return empty array if no attempts found"},{"ancestorTitles":["ProgressService","getQuizAttemptsByQuizId"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProgressService getQuizAttemptsByQuizId should return quiz attempts for a specific quiz","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459637,"status":"passed","title":"should return quiz attempts for a specific quiz"},{"ancestorTitles":["ProgressService","getQuizAttemptsByQuizId"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProgressService getQuizAttemptsByQuizId should return empty array if no attempts found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127459637,"status":"passed","title":"should return empty array if no attempts found"}],"endTime":1762127459638,"message":"","name":"/Users/veland/GlassCodeAcademy/backend-node/src/__tests__/unit/services/progressService.test.js","startTime":1762127459440,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["OAuthService","generateOAuthUrl"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"OAuthService generateOAuthUrl should generate Google OAuth URL","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1762127459836,"status":"passed","title":"should generate Google OAuth URL"},{"ancestorTitles":["OAuthService","generateOAuthUrl"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"OAuthService generateOAuthUrl should generate GitHub OAuth URL","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459837,"status":"passed","title":"should generate GitHub OAuth URL"},{"ancestorTitles":["OAuthService","generateOAuthUrl"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"OAuthService generateOAuthUrl should throw error for unconfigured provider","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127459837,"status":"passed","title":"should throw error for unconfigured provider"},{"ancestorTitles":["OAuthService","generateOAuthUrl"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"OAuthService generateOAuthUrl should use default provider configuration","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459844,"status":"passed","title":"should use default provider configuration"},{"ancestorTitles":["OAuthService","exchangeCodeForToken"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"OAuthService exchangeCodeForToken should exchange code for access token","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1762127459844,"status":"passed","title":"should exchange code for access token"},{"ancestorTitles":["OAuthService","exchangeCodeForToken"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"OAuthService exchangeCodeForToken should throw error for unconfigured provider","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127459845,"status":"passed","title":"should throw error for unconfigured provider"},{"ancestorTitles":["OAuthService","getUserInfo"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"OAuthService getUserInfo should return mock user info from OAuth provider","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1762127459846,"status":"passed","title":"should return mock user info from OAuth provider"},{"ancestorTitles":["OAuthService","createOrUpdateOAuthUser"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"OAuthService createOrUpdateOAuthUser should update existing OAuth user","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1762127459846,"status":"passed","title":"should update existing OAuth user"},{"ancestorTitles":["OAuthService","createOrUpdateOAuthUser"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"OAuthService createOrUpdateOAuthUser should link OAuth to existing email user","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459847,"status":"passed","title":"should link OAuth to existing email user"},{"ancestorTitles":["OAuthService","createOrUpdateOAuthUser"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"OAuthService createOrUpdateOAuthUser should create new user if no existing user found","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459848,"status":"passed","title":"should create new user if no existing user found"},{"ancestorTitles":["OAuthService","generateOAuthToken"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"OAuthService generateOAuthToken should generate JWT token for OAuth user","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459848,"status":"passed","title":"should generate JWT token for OAuth user"},{"ancestorTitles":["OAuthService","generateOAuthToken"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"OAuthService generateOAuthToken should include oauth flag in token payload","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127459849,"status":"passed","title":"should include oauth flag in token payload"}],"endTime":1762127459854,"message":"","name":"/Users/veland/GlassCodeAcademy/backend-node/src/__tests__/unit/services/oauthService.test.js","startTime":1762127459642,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Progress Service","getUserCourseProgress"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Progress Service getUserCourseProgress should return user course progress","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459976,"status":"passed","title":"should return user course progress"},{"ancestorTitles":["Progress Service","getUserCourseProgress"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Progress Service getUserCourseProgress should handle errors when fetching user course progress","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127459977,"status":"passed","title":"should handle errors when fetching user course progress"},{"ancestorTitles":["Progress Service","updateUserLessonProgress"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Progress Service updateUserLessonProgress should create new lesson progress when it does not exist","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459983,"status":"passed","title":"should create new lesson progress when it does not exist"},{"ancestorTitles":["Progress Service","updateUserLessonProgress"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Progress Service updateUserLessonProgress should update existing lesson progress","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459991,"status":"passed","title":"should update existing lesson progress"},{"ancestorTitles":["Progress Service","getUserLessonProgress"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Progress Service getUserLessonProgress should return user lesson progress","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459992,"status":"passed","title":"should return user lesson progress"},{"ancestorTitles":["Progress Service","submitQuizAnswers"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Progress Service submitQuizAnswers should calculate quiz score correctly for multiple choice questions","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1762127459993,"status":"passed","title":"should calculate quiz score correctly for multiple choice questions"},{"ancestorTitles":["Progress Service","submitQuizAnswers"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Progress Service submitQuizAnswers should handle quiz not found error","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127459994,"status":"passed","title":"should handle quiz not found error"},{"ancestorTitles":["Progress Service","recordQuizAttempt"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Progress Service recordQuizAttempt should create a quiz attempt","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459997,"status":"passed","title":"should create a quiz attempt"},{"ancestorTitles":["Progress Service","getQuizAttempts"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Progress Service getQuizAttempts should return quiz attempts for a user and lesson","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459997,"status":"passed","title":"should return quiz attempts for a user and lesson"},{"ancestorTitles":["Progress Service","getQuizAttemptsByQuizId"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Progress Service getQuizAttemptsByQuizId should return quiz attempts for a specific quiz","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127459998,"status":"passed","title":"should return quiz attempts for a specific quiz"},{"ancestorTitles":["Progress Service","getUserProgressSummary"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Progress Service getUserProgressSummary should return user progress summary","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"startAt":1762127459999,"status":"passed","title":"should return user progress summary"}],"endTime":1762127460000,"message":"","name":"/Users/veland/GlassCodeAcademy/backend-node/tests/services/progressService.test.js","startTime":1762127459856,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Monitoring Performance"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Monitoring Performance tracing overhead should be minimal","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460096,"status":"passed","title":"tracing overhead should be minimal"},{"ancestorTitles":["Monitoring Performance"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Monitoring Performance metrics collection should not cause memory leaks","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460100,"status":"passed","title":"metrics collection should not cause memory leaks"},{"ancestorTitles":["Monitoring Performance"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Monitoring Performance span creation should not significantly impact throughput","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460101,"status":"passed","title":"span creation should not significantly impact throughput"}],"endTime":1762127460101,"message":"","name":"/Users/veland/GlassCodeAcademy/backend-node/tests/performance-monitoring.test.js","startTime":1762127460003,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Content Management Service","Course Operations","createCourse"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Course Operations createCourse should create a new course","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460199,"status":"passed","title":"should create a new course"},{"ancestorTitles":["Content Management Service","Course Operations","createCourse"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Course Operations createCourse should handle errors when creating a course","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460201,"status":"passed","title":"should handle errors when creating a course"},{"ancestorTitles":["Content Management Service","Course Operations","getAllCourses"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Course Operations getAllCourses should return courses with pagination","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460209,"status":"passed","title":"should return courses with pagination"},{"ancestorTitles":["Content Management Service","Course Operations","getAllCourses"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Course Operations getAllCourses should handle errors when getting courses","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460209,"status":"passed","title":"should handle errors when getting courses"},{"ancestorTitles":["Content Management Service","Course Operations","getCourseById"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Course Operations getCourseById should return a course by id","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460210,"status":"passed","title":"should return a course by id"},{"ancestorTitles":["Content Management Service","Course Operations","getCourseById"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Course Operations getCourseById should handle errors when getting a course","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460210,"status":"passed","title":"should handle errors when getting a course"},{"ancestorTitles":["Content Management Service","Course Operations","updateCourse"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Course Operations updateCourse should update a course","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1762127460211,"status":"passed","title":"should update a course"},{"ancestorTitles":["Content Management Service","Course Operations","updateCourse"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Course Operations updateCourse should throw error when course not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460211,"status":"passed","title":"should throw error when course not found"},{"ancestorTitles":["Content Management Service","Course Operations","updateCourse"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Course Operations updateCourse should handle errors when updating a course","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460211,"status":"passed","title":"should handle errors when updating a course"},{"ancestorTitles":["Content Management Service","Course Operations","deleteCourse"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Course Operations deleteCourse should delete a course","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460212,"status":"passed","title":"should delete a course"},{"ancestorTitles":["Content Management Service","Course Operations","deleteCourse"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Course Operations deleteCourse should throw error when course not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460212,"status":"passed","title":"should throw error when course not found"},{"ancestorTitles":["Content Management Service","Course Operations","deleteCourse"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Course Operations deleteCourse should handle errors when deleting a course","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460213,"status":"passed","title":"should handle errors when deleting a course"},{"ancestorTitles":["Content Management Service","Module Operations","createModule"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Module Operations createModule should create a new module","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460216,"status":"passed","title":"should create a new module"},{"ancestorTitles":["Content Management Service","Module Operations","createModule"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Module Operations createModule should handle errors when creating a module","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460217,"status":"passed","title":"should handle errors when creating a module"},{"ancestorTitles":["Content Management Service","Module Operations","getModulesByCourseId"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Module Operations getModulesByCourseId should return modules for a course","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460217,"status":"passed","title":"should return modules for a course"},{"ancestorTitles":["Content Management Service","Module Operations","getModulesByCourseId"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Module Operations getModulesByCourseId should handle errors when getting modules","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460218,"status":"passed","title":"should handle errors when getting modules"},{"ancestorTitles":["Content Management Service","Module Operations","getModuleById"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Module Operations getModuleById should return a module by id","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460218,"status":"passed","title":"should return a module by id"},{"ancestorTitles":["Content Management Service","Module Operations","getModuleById"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Module Operations getModuleById should handle errors when getting a module","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460219,"status":"passed","title":"should handle errors when getting a module"},{"ancestorTitles":["Content Management Service","Module Operations","updateModule"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Module Operations updateModule should update a module","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1762127460219,"status":"passed","title":"should update a module"},{"ancestorTitles":["Content Management Service","Module Operations","updateModule"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Module Operations updateModule should throw error when module not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460220,"status":"passed","title":"should throw error when module not found"},{"ancestorTitles":["Content Management Service","Module Operations","updateModule"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Module Operations updateModule should handle errors when updating a module","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460220,"status":"passed","title":"should handle errors when updating a module"},{"ancestorTitles":["Content Management Service","Module Operations","deleteModule"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Module Operations deleteModule should delete a module","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460220,"status":"passed","title":"should delete a module"},{"ancestorTitles":["Content Management Service","Module Operations","deleteModule"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Module Operations deleteModule should throw error when module not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460221,"status":"passed","title":"should throw error when module not found"},{"ancestorTitles":["Content Management Service","Module Operations","deleteModule"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Module Operations deleteModule should handle errors when deleting a module","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460221,"status":"passed","title":"should handle errors when deleting a module"},{"ancestorTitles":["Content Management Service","Lesson Operations","createLesson"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Lesson Operations createLesson should create a new lesson","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460221,"status":"passed","title":"should create a new lesson"},{"ancestorTitles":["Content Management Service","Lesson Operations","createLesson"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Lesson Operations createLesson should handle errors when creating a lesson","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460222,"status":"passed","title":"should handle errors when creating a lesson"},{"ancestorTitles":["Content Management Service","Lesson Operations","getLessonsByModuleId"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Lesson Operations getLessonsByModuleId should return lessons for a module","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460222,"status":"passed","title":"should return lessons for a module"},{"ancestorTitles":["Content Management Service","Lesson Operations","getLessonsByModuleId"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Lesson Operations getLessonsByModuleId should handle errors when getting lessons","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460222,"status":"passed","title":"should handle errors when getting lessons"},{"ancestorTitles":["Content Management Service","Lesson Operations","getLessonById"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Lesson Operations getLessonById should return a lesson by id","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460223,"status":"passed","title":"should return a lesson by id"},{"ancestorTitles":["Content Management Service","Lesson Operations","getLessonById"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Lesson Operations getLessonById should handle errors when getting a lesson","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460223,"status":"passed","title":"should handle errors when getting a lesson"},{"ancestorTitles":["Content Management Service","Lesson Operations","updateLesson"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Lesson Operations updateLesson should update a lesson","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1762127460223,"status":"passed","title":"should update a lesson"},{"ancestorTitles":["Content Management Service","Lesson Operations","updateLesson"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Lesson Operations updateLesson should throw error when lesson not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460225,"status":"passed","title":"should throw error when lesson not found"},{"ancestorTitles":["Content Management Service","Lesson Operations","updateLesson"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Lesson Operations updateLesson should handle errors when updating a lesson","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460225,"status":"passed","title":"should handle errors when updating a lesson"},{"ancestorTitles":["Content Management Service","Lesson Operations","deleteLesson"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Lesson Operations deleteLesson should delete a lesson","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460226,"status":"passed","title":"should delete a lesson"},{"ancestorTitles":["Content Management Service","Lesson Operations","deleteLesson"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Lesson Operations deleteLesson should throw error when lesson not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460226,"status":"passed","title":"should throw error when lesson not found"},{"ancestorTitles":["Content Management Service","Lesson Operations","deleteLesson"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Lesson Operations deleteLesson should handle errors when deleting a lesson","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460226,"status":"passed","title":"should handle errors when deleting a lesson"},{"ancestorTitles":["Content Management Service","Quiz Operations","createQuiz"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Quiz Operations createQuiz should create a new quiz","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460227,"status":"passed","title":"should create a new quiz"},{"ancestorTitles":["Content Management Service","Quiz Operations","createQuiz"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Quiz Operations createQuiz should handle errors when creating a quiz","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460227,"status":"passed","title":"should handle errors when creating a quiz"},{"ancestorTitles":["Content Management Service","Quiz Operations","getQuizzesByLessonId"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Quiz Operations getQuizzesByLessonId should return quizzes for a lesson","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460227,"status":"passed","title":"should return quizzes for a lesson"},{"ancestorTitles":["Content Management Service","Quiz Operations","getQuizzesByLessonId"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Quiz Operations getQuizzesByLessonId should handle errors when getting quizzes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460228,"status":"passed","title":"should handle errors when getting quizzes"},{"ancestorTitles":["Content Management Service","Quiz Operations","getQuizById"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Quiz Operations getQuizById should return a quiz by id","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460228,"status":"passed","title":"should return a quiz by id"},{"ancestorTitles":["Content Management Service","Quiz Operations","getQuizById"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Quiz Operations getQuizById should handle errors when getting a quiz","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460228,"status":"passed","title":"should handle errors when getting a quiz"},{"ancestorTitles":["Content Management Service","Quiz Operations","updateQuiz"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Quiz Operations updateQuiz should update a quiz","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1762127460229,"status":"passed","title":"should update a quiz"},{"ancestorTitles":["Content Management Service","Quiz Operations","updateQuiz"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Quiz Operations updateQuiz should throw error when quiz not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460229,"status":"passed","title":"should throw error when quiz not found"},{"ancestorTitles":["Content Management Service","Quiz Operations","updateQuiz"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Quiz Operations updateQuiz should handle errors when updating a quiz","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460229,"status":"passed","title":"should handle errors when updating a quiz"},{"ancestorTitles":["Content Management Service","Quiz Operations","deleteQuiz"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Quiz Operations deleteQuiz should delete a quiz","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460230,"status":"passed","title":"should delete a quiz"},{"ancestorTitles":["Content Management Service","Quiz Operations","deleteQuiz"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Quiz Operations deleteQuiz should throw error when quiz not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460230,"status":"passed","title":"should throw error when quiz not found"},{"ancestorTitles":["Content Management Service","Quiz Operations","deleteQuiz"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Management Service Quiz Operations deleteQuiz should handle errors when deleting a quiz","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460230,"status":"passed","title":"should handle errors when deleting a quiz"}],"endTime":1762127460231,"message":"","name":"/Users/veland/GlassCodeAcademy/backend-node/tests/services/contentManagementService.test.js","startTime":1762127460103,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Content Service","getAllCourses"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Service getAllCourses should return courses with pagination","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460339,"status":"passed","title":"should return courses with pagination"},{"ancestorTitles":["Content Service","getAllCourses"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Service getAllCourses should use default options when none provided","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460341,"status":"passed","title":"should use default options when none provided"},{"ancestorTitles":["Content Service","getCourseById"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Service getCourseById should return course with modules and lessons","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460345,"status":"passed","title":"should return course with modules and lessons"},{"ancestorTitles":["Content Service","getCourseById"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Service getCourseById should handle when course is not found","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460345,"status":"passed","title":"should handle when course is not found"},{"ancestorTitles":["Content Service","getAllModules"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Service getAllModules should return all published modules","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460346,"status":"passed","title":"should return all published modules"},{"ancestorTitles":["Content Service","getModuleById"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Service getModuleById should return module with lessons","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460346,"status":"passed","title":"should return module with lessons"},{"ancestorTitles":["Content Service","getLessonById"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Service getLessonById should return lesson by id","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460347,"status":"passed","title":"should return lesson by id"},{"ancestorTitles":["Content Service","getLessonsByModuleId"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Service getLessonsByModuleId should return lessons for a module","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460347,"status":"passed","title":"should return lessons for a module"},{"ancestorTitles":["Content Service","getQuizzesByLessonId"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Service getQuizzesByLessonId should return quizzes for a lesson","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460348,"status":"passed","title":"should return quizzes for a lesson"},{"ancestorTitles":["Content Service","getQuizzesByLessonId"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Content Service getQuizzesByLessonId should filter out quizzes with invalid IDs","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460348,"status":"passed","title":"should filter out quizzes with invalid IDs"}],"endTime":1762127460349,"message":"","name":"/Users/veland/GlassCodeAcademy/backend-node/tests/services/contentService.test.js","startTime":1762127460234,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["contentManagementService","createCourse"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentManagementService createCourse should create a new course","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460445,"status":"passed","title":"should create a new course"},{"ancestorTitles":["contentManagementService","createCourse"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentManagementService createCourse should throw an error if course creation fails","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460446,"status":"passed","title":"should throw an error if course creation fails"},{"ancestorTitles":["contentManagementService","getAllCourses"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentManagementService getAllCourses should return courses with pagination","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460453,"status":"passed","title":"should return courses with pagination"},{"ancestorTitles":["contentManagementService","getAllCourses"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentManagementService getAllCourses should handle errors when fetching courses","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460453,"status":"passed","title":"should handle errors when fetching courses"},{"ancestorTitles":["contentManagementService","getCourseById"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentManagementService getCourseById should return a course by ID","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460454,"status":"passed","title":"should return a course by ID"},{"ancestorTitles":["contentManagementService","getCourseById"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentManagementService getCourseById should handle errors when fetching a course","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460455,"status":"passed","title":"should handle errors when fetching a course"},{"ancestorTitles":["contentManagementService","updateCourse"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentManagementService updateCourse should update a course","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1762127460455,"status":"passed","title":"should update a course"},{"ancestorTitles":["contentManagementService","updateCourse"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentManagementService updateCourse should throw an error if course is not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460456,"status":"passed","title":"should throw an error if course is not found"},{"ancestorTitles":["contentManagementService","updateCourse"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentManagementService updateCourse should handle errors during update","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460456,"status":"passed","title":"should handle errors during update"},{"ancestorTitles":["contentManagementService","deleteCourse"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentManagementService deleteCourse should delete a course","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460457,"status":"passed","title":"should delete a course"},{"ancestorTitles":["contentManagementService","deleteCourse"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentManagementService deleteCourse should throw an error if course is not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460460,"status":"passed","title":"should throw an error if course is not found"},{"ancestorTitles":["contentManagementService","deleteCourse"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentManagementService deleteCourse should handle errors during deletion","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460460,"status":"passed","title":"should handle errors during deletion"},{"ancestorTitles":["contentManagementService","createModule"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentManagementService createModule should create a new module","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460461,"status":"passed","title":"should create a new module"},{"ancestorTitles":["contentManagementService","createModule"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentManagementService createModule should throw an error if module creation fails","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460461,"status":"passed","title":"should throw an error if module creation fails"},{"ancestorTitles":["contentManagementService","getModulesByCourseId"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentManagementService getModulesByCourseId should return modules for a course ordered by order field","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460462,"status":"passed","title":"should return modules for a course ordered by order field"},{"ancestorTitles":["contentManagementService","getModulesByCourseId"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentManagementService getModulesByCourseId should handle errors when fetching modules","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460462,"status":"passed","title":"should handle errors when fetching modules"},{"ancestorTitles":["contentManagementService","createLesson"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentManagementService createLesson should create a new lesson","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460462,"status":"passed","title":"should create a new lesson"},{"ancestorTitles":["contentManagementService","createLesson"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentManagementService createLesson should throw an error if lesson creation fails","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460463,"status":"passed","title":"should throw an error if lesson creation fails"},{"ancestorTitles":["contentManagementService","createQuiz"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentManagementService createQuiz should create a new quiz","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460463,"status":"passed","title":"should create a new quiz"},{"ancestorTitles":["contentManagementService","createQuiz"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentManagementService createQuiz should throw an error if quiz creation fails","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460463,"status":"passed","title":"should throw an error if quiz creation fails"}],"endTime":1762127460464,"message":"","name":"/Users/veland/GlassCodeAcademy/backend-node/tests/contentManagementService.test.js","startTime":1762127460351,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["contentService","getAllCourses"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentService getAllCourses should return courses with pagination","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1762127460573,"status":"passed","title":"should return courses with pagination"},{"ancestorTitles":["contentService","getAllCourses"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentService getAllCourses should use default pagination values","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460575,"status":"passed","title":"should use default pagination values"},{"ancestorTitles":["contentService","getCourseById"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentService getCourseById should return a course with modules and lessons","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460575,"status":"passed","title":"should return a course with modules and lessons"},{"ancestorTitles":["contentService","getCourseById"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentService getCourseById should handle null return","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460576,"status":"passed","title":"should handle null return"},{"ancestorTitles":["contentService","getAllModules"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentService getAllModules should return all published modules ordered by order field","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460576,"status":"passed","title":"should return all published modules ordered by order field"},{"ancestorTitles":["contentService","getModuleById"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentService getModuleById should return a module with lessons","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460577,"status":"passed","title":"should return a module with lessons"},{"ancestorTitles":["contentService","getLessonById"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentService getLessonById should return a lesson by ID","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460577,"status":"passed","title":"should return a lesson by ID"},{"ancestorTitles":["contentService","getLessonsByModuleId"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentService getLessonsByModuleId should return lessons for a module ordered by order field","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460578,"status":"passed","title":"should return lessons for a module ordered by order field"},{"ancestorTitles":["contentService","getQuizzesByLessonId"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentService getQuizzesByLessonId should return valid quizzes for a lesson","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460578,"status":"passed","title":"should return valid quizzes for a lesson"},{"ancestorTitles":["contentService","getQuizzesByLessonId"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"contentService getQuizzesByLessonId should filter out quizzes with invalid IDs","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460582,"status":"passed","title":"should filter out quizzes with invalid IDs"}],"endTime":1762127460583,"message":"","name":"/Users/veland/GlassCodeAcademy/backend-node/tests/contentService.test.js","startTime":1762127460466,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Performance Tests"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Performance Tests slug resolution performance","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1762127460673,"status":"passed","title":"slug resolution performance"}],"endTime":1762127460680,"message":"","name":"/Users/veland/GlassCodeAcademy/backend-node/tests/performance.test.js","startTime":1762127460585,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Database configuration in test environment"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Database configuration in test environment selects correct dialect in test mode based on integration flag","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1762127460772,"status":"passed","title":"selects correct dialect in test mode based on integration flag"}],"endTime":1762127460773,"message":"","name":"/Users/veland/GlassCodeAcademy/backend-node/tests/config.test.js","startTime":1762127460684,"status":"passed","summary":""}],"wasInterrupted":false}
